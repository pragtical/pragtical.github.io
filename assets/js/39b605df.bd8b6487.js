"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9904],{3328:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"developer-guide/quick-start","title":"Quick Start","description":"Quick start guide to writing plugins.","source":"@site/docs/developer-guide/quick-start.md","sourceDirName":"developer-guide","slug":"/developer-guide/quick-start","permalink":"/docs/developer-guide/quick-start","draft":false,"unlisted":false,"editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/docs/developer-guide/quick-start.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"description":"Quick start guide to writing plugins."},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/docs/developer-guide/introduction"},"next":{"title":"Core UI Architecture","permalink":"/docs/developer-guide/core-ui-architecture"}}');var r=i(74848),l=i(28453);const o={sidebar_position:1,description:"Quick start guide to writing plugins."},s="Quick Start",c={},d=[{value:"Plugin Basics",id:"plugin-basics",level:2},{value:"Minimal Plugin Structure",id:"minimal-plugin-structure",level:3},{value:"Example 1: Simple Command Plugin",id:"example-1-simple-command-plugin",level:2},{value:"Example 2: Running External Programs",id:"example-2-running-external-programs",level:2},{value:"Example 3: Creating a Custom View",id:"example-3-creating-a-custom-view",level:2},{value:"Example 4: Interactive Custom View",id:"example-4-interactive-custom-view",level:2},{value:"Example 5: Plugin with Configuration",id:"example-5-plugin-with-configuration",level:2},{value:"Example 6: Using CommandView for User Input",id:"example-6-using-commandview-for-user-input",level:2},{value:"Command System",id:"command-system",level:2},{value:"Command Predicates",id:"command-predicates",level:3},{value:"Predicate with Extra Parameters",id:"predicate-with-extra-parameters",level:3},{value:"Useful APIs",id:"useful-apis",level:2},{value:"Core APIs",id:"core-apis",level:3},{value:"Document APIs",id:"document-apis",level:3},{value:"Renderer APIs",id:"renderer-apis",level:3},{value:"Style",id:"style",level:3},{value:"Plugin Loading",id:"plugin-loading",level:2},{value:"Tips",id:"tips",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"quick-start",children:"Quick Start"})}),"\n",(0,r.jsx)(n.h2,{id:"plugin-basics",children:"Plugin Basics"}),"\n",(0,r.jsx)(n.p,{children:"A plugin is a Lua file placed in your user plugins directory that extends the editor's functionality."}),"\n",(0,r.jsxs)(n.admonition,{title:"Plugin Locations",type:"info",children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User plugins:"})," ",(0,r.jsx)(n.code,{children:"USERDIR/plugins/"})," - Place your custom plugins here"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Built-in plugins:"})," ",(0,r.jsx)(n.code,{children:"DATADIR/plugins/"})," - Plugins that ship with the editor"]}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"USERDIR"})," and ",(0,r.jsx)(n.code,{children:"DATADIR"})," are global Lua variables available in all plugins. See ",(0,r.jsx)(n.a,{href:"/docs/user-guide/configuration#location",children:"Configuration \u2192 Location"})," for where Pragtical looks for the user directory."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common user plugin directory locations:"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Portable install:"})," ",(0,r.jsx)(n.code,{children:"<pragtical_executable_dir>/user/plugins/"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Linux/macOS:"})," ",(0,r.jsx)(n.code,{children:"~/.config/pragtical/plugins/"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Windows:"})," ",(0,r.jsx)(n.code,{children:"%USERPROFILE%/.config/pragtical/plugins/"})]}),"\n"]})]}),"\n",(0,r.jsx)(n.h3,{id:"minimal-plugin-structure",children:"Minimal Plugin Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal command = require "core.command"\n\n-- your plugin code here\n\ncommand.add(nil, {\n  ["myplugin:do-something"] = function()\n    core.log("Hello from my plugin!")\n    -- do plugin specific stuff\n  end\n})\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key points:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["First line must be ",(0,r.jsx)(n.code,{children:"-- mod-version:3"})]}),"\n",(0,r.jsx)(n.li,{children:"Require the modules you need"}),"\n",(0,r.jsxs)(n.li,{children:["Register commands with ",(0,r.jsx)(n.code,{children:"command.add()"})]}),"\n",(0,r.jsxs)(n.li,{children:["Plugin file names must be valid Lua identifiers in lowercase (e.g., ",(0,r.jsx)(n.code,{children:"myplugin.lua"}),", ",(0,r.jsx)(n.code,{children:"auto_save.lua"}),") to work with config paths like ",(0,r.jsx)(n.code,{children:"config.plugins.plugin_name"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-1-simple-command-plugin",children:"Example 1: Simple Command Plugin"}),"\n",(0,r.jsx)(n.p,{children:"A plugin that adds a command to insert the current date."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"user/plugins/insertdate.lua"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal command = require "core.command"\nlocal DocView = require "core.docview"\n\ncommand.add("core.docview", {\n  ["insertdate:insert-date"] = function()\n    local date = os.date("%Y-%m-%d")\n    core.active_view.doc:text_input(date)\n  end,\n  \n  ["insertdate:insert-datetime"] = function()\n    local datetime = os.date("%Y-%m-%d %H:%M:%S")\n    core.active_view.doc:text_input(datetime)\n  end\n})\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Usage:"}),' Open the command palette (Ctrl+Shift+P) and search for "insert date"']}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'command.add("core.docview", ...)'})," - Commands only work in document views"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"core.active_view.doc:text_input()"})," - Insert text at cursor"]}),"\n",(0,r.jsxs)(n.li,{children:["Command names use format: ",(0,r.jsx)(n.code,{children:"category:action-name"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-2-running-external-programs",children:"Example 2: Running External Programs"}),"\n",(0,r.jsx)(n.p,{children:"A plugin that launches external programs and adds keyboard shortcuts."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"user/plugins/runner.lua"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal command = require "core.command"\nlocal keymap = require "core.keymap"\n\ncommand.add(nil, {\n  ["run:calculator"] = function()\n    local cmd = {"calc"} -- or any other OS program\n    process.start(cmd)\n  end,\n\n  ["run:build-project"] = function()\n    local cwd = core.root_project().path\n    local cmd = {"build.bat"} -- build project in the background\n    process.start(cmd, {cwd = cwd})\n  end,\n\n  ["run:build-project-show-window"] = function()\n    local cwd = core.root_project().path\n    local cmd = {"cmd", "/c", "start", "build.bat"} -- show cmd window\n    process.start(cmd, {cwd = cwd})\n  end,\n})\n\n-- Add keyboard shortcuts\nkeymap.add({\n  [\'ctrl+alt+c\'] = "run:calculator",\n  [\'ctrl+b\'] = "run:build-project-show-window",\n})\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"process"})," - Global API for running external programs (no require needed)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"process.start(cmd)"})," - Launch external programs with command as a table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"process.start(cmd, {cwd = cwd})"})," - Specify working directory with options table"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"core.root_project().path"})," - Get current project's root directory"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"keymap.add()"})," - Register keyboard shortcuts for commands"]}),"\n",(0,r.jsx)(n.li,{children:"Commands run in the background without blocking the editor"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-3-creating-a-custom-view",children:"Example 3: Creating a Custom View"}),"\n",(0,r.jsx)(n.p,{children:"A simple view that displays a message."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"user/plugins/messageview.lua"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal command = require "core.command"\nlocal View = require "core.view"\nlocal style = require "core.style"\n\nlocal MessageView = View:extend()\n\nfunction MessageView:new()\n  MessageView.super.new(self)\n  self.message = "Hello, World!"\nend\n\nfunction MessageView:get_name()\n  return "Message View"\nend\n\nfunction MessageView:draw()\n  self:draw_background(style.background)\n  \n  local font = style.font\n  local text = self.message\n  local w = font:get_width(text)\n  local h = font:get_height()\n  \n  -- Center the text\n  local x = self.position.x + (self.size.x - w) / 2\n  local y = self.position.y + (self.size.y - h) / 2\n  \n  renderer.draw_text(font, text, x, y, style.text)\nend\n\n-- Command to open the view\ncommand.add(nil, {\n  ["messageview:open"] = function()\n    local node = core.root_view:get_active_node()\n    node:add_view(MessageView())\n  end\n})\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extend ",(0,r.jsx)(n.code,{children:"View"})," with ",(0,r.jsx)(n.code,{children:":extend()"})]}),"\n",(0,r.jsxs)(n.li,{children:["Call ",(0,r.jsx)(n.code,{children:"super.new(self)"})," in constructor"]}),"\n",(0,r.jsxs)(n.li,{children:["Override ",(0,r.jsx)(n.code,{children:"get_name()"})," for tab title"]}),"\n",(0,r.jsxs)(n.li,{children:["Override ",(0,r.jsx)(n.code,{children:"draw()"})," to render"]}),"\n",(0,r.jsxs)(n.li,{children:["Add to layout with ",(0,r.jsx)(n.code,{children:"node:add_view()"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-4-interactive-custom-view",children:"Example 4: Interactive Custom View"}),"\n",(0,r.jsx)(n.p,{children:"A counter view with mouse interaction."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"user/plugins/counterview.lua"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal command = require "core.command"\nlocal View = require "core.view"\nlocal style = require "core.style"\n\nlocal CounterView = View:extend()\n\nfunction CounterView:new()\n  CounterView.super.new(self)\n  self.count = 0\n  self.button_rect = { x = 0, y = 0, w = 100, h = 30 }\nend\n\nfunction CounterView:get_name()\n  return "Counter"\nend\n\nfunction CounterView:update_button_position()\n  -- Center the button\n  self.button_rect.x = self.position.x + (self.size.x - self.button_rect.w) / 2\n  self.button_rect.y = self.position.y + self.size.y / 2\nend\n\nfunction CounterView:update()\n  CounterView.super.update(self)\n  self:update_button_position()\nend\n\nfunction CounterView:draw()\n  self:draw_background(style.background)\n  \n  local font = style.font\n  local big_font = style.big_font or font\n  \n  -- Draw count at top\n  local count_text = tostring(self.count)\n  local tw = big_font:get_width(count_text)\n  local x = self.position.x + (self.size.x - tw) / 2\n  local y = self.position.y + 50\n  renderer.draw_text(big_font, count_text, x, y, style.text)\n  \n  -- Draw button\n  local btn = self.button_rect\n  renderer.draw_rect(btn.x, btn.y, btn.w, btn.h, style.accent)\n  \n  local btn_text = "Click Me"\n  local btw = font:get_width(btn_text)\n  local bth = font:get_height()\n  local btx = btn.x + (btn.w - btw) / 2\n  local bty = btn.y + (btn.h - bth) / 2\n  renderer.draw_text(font, btn_text, btx, bty, style.background)\nend\n\nfunction CounterView:on_mouse_pressed(button, x, y, clicks)\n  if button == "left" then\n    local btn = self.button_rect\n    -- Check if click is inside button\n    if x >= btn.x and x <= btn.x + btn.w and\n       y >= btn.y and y <= btn.y + btn.h then\n      self.count = self.count + 1\n      return true\n    end\n  end\n  return CounterView.super.on_mouse_pressed(self, button, x, y, clicks)\nend\n\ncommand.add(nil, {\n  ["counterview:open"] = function()\n    local node = core.root_view:get_active_node()\n    node:add_view(CounterView())\n  end\n})\n\n-- Commands that only work when CounterView is active\ncommand.add(CounterView, {\n  ["counterview:increment"] = function(cv)\n    cv.count = cv.count + 1\n  end,\n  \n  ["counterview:reset"] = function(cv)\n    cv.count = 0\n  end\n})\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"on_mouse_pressed()"})," handles clicks"]}),"\n",(0,r.jsxs)(n.li,{children:["Return ",(0,r.jsx)(n.code,{children:"true"})," to consume the event"]}),"\n",(0,r.jsx)(n.li,{children:"Use rectangles for hit testing"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"command.add(CounterView, ...)"})," - command only works in CounterView"]}),"\n",(0,r.jsx)(n.li,{children:"Predicate function automatically passes the view as first parameter"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-5-plugin-with-configuration",children:"Example 5: Plugin with Configuration"}),"\n",(0,r.jsx)(n.p,{children:"A plugin that shows how to add configuration."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"user/plugins/myconfig.lua"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal config = require "core.config"\nlocal command = require "core.command"\nlocal common = require "core.common"\nlocal style = require "core.style"\n\n-- Initialize config with defaults\nconfig.plugins.myconfig = common.merge({\n  enabled = true,\n  max_count = 100,\n  custom_color = { 100, 150, 200, 255 },\n  \n  -- Config spec for settings GUI\n  config_spec = {\n    name = "My Config Plugin",\n    {\n      label = "Enabled",\n      description = "Enable or disable this plugin",\n      path = "enabled",\n      type = "toggle",\n      default = true\n    },\n    {\n      label = "Max Count",\n      description = "Maximum counter value",\n      path = "max_count",\n      type = "number",\n      default = 100,\n      min = 1,\n      max = 1000\n    },\n    {\n      label = "Custom Color",\n      description = "Color for highlighting",\n      path = "custom_color",\n      type = "color",\n      default = { 100, 150, 200, 255 }\n    }\n  }\n}, config.plugins.myconfig)\n\n-- Use the config\ncommand.add(nil, {\n  ["myconfig:show-settings"] = function()\n    core.log("Enabled: %s, Max: %d", \n      tostring(config.plugins.myconfig.enabled),\n      config.plugins.myconfig.max_count)\n  end\n})\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"common.merge()"})," to merge defaults with user settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"config_spec"})," enables GUI configuration"]}),"\n",(0,r.jsxs)(n.li,{children:["Types: ",(0,r.jsx)(n.code,{children:'"toggle"'}),", ",(0,r.jsx)(n.code,{children:'"number"'}),", ",(0,r.jsx)(n.code,{children:'"string"'}),", ",(0,r.jsx)(n.code,{children:'"color"'}),", ",(0,r.jsx)(n.code,{children:'"list_strings"'})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-6-using-commandview-for-user-input",children:"Example 6: Using CommandView for User Input"}),"\n",(0,r.jsx)(n.p,{children:"A plugin that presents a list of choices to the user."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"File:"})," ",(0,r.jsx)(n.code,{children:"user/plugins/choices.lua"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- mod-version:3\nlocal core = require "core"\nlocal command = require "core.command"\n\ncommand.add(nil, {\n  ["choices:pick-color"] = function()\n    -- List of color choices\n    local colors = {\n      "Red",\n      "Green", \n      "Blue",\n      "Yellow",\n      "Purple",\n      "Orange"\n    }\n    \n    core.command_view:enter("Pick a Color", {\n      submit = function(text, item)\n        -- item is the selected suggestion\n        local choice = item and item.text or text\n        core.log("You selected: %s", choice)\n      end,\n      suggest = function(text)\n        -- Filter colors based on user input\n        local suggestions = {}\n        for _, color in ipairs(colors) do\n          if color:lower():find(text:lower(), 1, true) then\n            table.insert(suggestions, { text = color })\n          end\n        end\n        return suggestions\n      end\n    })\n  end\n})\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Explanation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"core.command_view:enter()"})," - Opens the command palette with custom input"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"submit"})," - Called when user presses Enter (receives text and selected item)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"suggest"})," - Returns list of suggestions based on user input"]}),"\n",(0,r.jsxs)(n.li,{children:["Suggestions are tables with ",(0,r.jsx)(n.code,{children:"text"})," field"]}),"\n",(0,r.jsx)(n.li,{children:"User can type to filter the list or use arrow keys to select"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"command-system",children:"Command System"}),"\n",(0,r.jsx)(n.h3,{id:"command-predicates",children:"Command Predicates"}),"\n",(0,r.jsx)(n.p,{children:"Commands can have predicates that determine when they're available:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Always available\ncommand.add(nil, { ... })\n\n-- Only in DocView\ncommand.add("core.docview", { ... })\n\n-- Only in specific view (inheritance check)\ncommand.add(MyView, { ... })\n\n-- Strict type check (exact match)\ncommand.add("core.docview!", { ... })\n\n-- Custom predicate function\ncommand.add(function()\n  return core.active_view:is(DocView) \n    and core.active_view.doc:has_selection()\nend, {\n  ["mycmd:do-something"] = function()\n    -- Only runs if predicate returns true\n  end\n})\n'})}),"\n",(0,r.jsx)(n.h3,{id:"predicate-with-extra-parameters",children:"Predicate with Extra Parameters"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'command.add(function()\n  local view = core.active_view\n  if view:is(DocView) and view.doc:has_selection() then\n    return true, view, view.doc  -- Pass view and doc to command\n  end\n  return false\nend, {\n  ["mycmd:process"] = function(view, doc)\n    -- Receives view and doc from predicate\n    local text = doc:get_text(doc:get_selection())\n    core.log("Selected: %s", text)\n  end\n})\n'})}),"\n",(0,r.jsx)(n.h2,{id:"useful-apis",children:"Useful APIs"}),"\n",(0,r.jsx)(n.h3,{id:"core-apis",children:"Core APIs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'core.log("Message: %s", value)          -- Log to console\ncore.error("Error: %s", message)        -- Log error\ncore.active_view                        -- Current view\ncore.root_view                          -- Root view\ncore.root_view:get_active_node()        -- Active node\n'})}),"\n",(0,r.jsx)(n.h3,{id:"document-apis",children:"Document APIs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"doc:text_input(text)                              -- Insert text at cursor\ndoc:get_selection()                               -- Get selection range (line1, col1, line2, col2)\ndoc:get_text(line1, col1, line2, col2)            -- Get text in range\ndoc:insert(line, col, text)                       -- Insert text at position\ndoc:remove(line1, col1, line2, col2)              -- Remove text range\ndoc:set_selection(line1, col1, line2, col2)       -- Set selection range\ndoc:has_selection()                               -- Check if text is selected\n"})}),"\n",(0,r.jsx)(n.h3,{id:"renderer-apis",children:"Renderer APIs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"renderer.draw_rect(x, y, w, h, color)             -- Draw filled rectangle\nrenderer.draw_text(font, text, x, y, color)       -- Draw text\nrenderer.set_clip_rect(x, y, w, h)                -- Set clipping region\n"})}),"\n",(0,r.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"style.font                  -- Default font\nstyle.big_font              -- Larger font\nstyle.code_font             -- Monospace font\nstyle.background            -- Background color\nstyle.text                  -- Text color\nstyle.accent                -- Accent color\nstyle.selection             -- Selection color\n"})}),"\n",(0,r.jsx)(n.h2,{id:"plugin-loading",children:"Plugin Loading"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User plugins"})," in ",(0,r.jsx)(n.code,{children:"user/plugins/"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Built-in plugins"})," in ",(0,r.jsx)(n.code,{children:"data/plugins/"})]}),"\n",(0,r.jsxs)(n.li,{children:["You can disable any plugin via ",(0,r.jsx)(n.code,{children:"config.plugins.pluginname = false"})," in your init.lua"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Always save original functions"})," when overriding"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Call super methods"})," in constructors and overrides"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use config.plugins.yourname"})," for configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test predicates"})," to ensure commands appear correctly"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep draw() fast"})," - it's called every frame"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Return true from event handlers"})," to consume events"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Read the other sections for a deeper understanding of the internals"}),"\n",(0,r.jsxs)(n.li,{children:["Look at built-in plugins in ",(0,r.jsx)(n.code,{children:"data/plugins/"})," for examples"]}),"\n",(0,r.jsxs)(n.li,{children:["Check ",(0,r.jsx)(n.code,{children:"data/core/commands/"})," for built-in command implementations"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>s});var t=i(96540);const r={},l=t.createContext(r);function o(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);