"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4363],{3012:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var i=l(5893),a=l(1151),s=l(4866),r=l(5162);const t={sidebar_position:3,description:"Learn to manage plugins manually or via a plugin manager."},o="Plugins",c={id:"user-guide/plugins",title:"Plugins",description:"Learn to manage plugins manually or via a plugin manager.",source:"@site/docs/user-guide/plugins.md",sourceDirName:"user-guide",slug:"/user-guide/plugins",permalink:"/docs/user-guide/plugins",draft:!1,unlisted:!1,editUrl:"https://github.com/pragtical/pragtical.github.io/edit/main/docs/user-guide/plugins.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,description:"Learn to manage plugins manually or via a plugin manager."},sidebar:"tutorialSidebar",previous:{title:"Configuration",permalink:"/docs/user-guide/configuration"},next:{title:"Keymaps",permalink:"/docs/user-guide/keymap"}},u={},d=[{value:"Location",id:"location",level:2},{value:"Plugin managers",id:"plugin-managers",level:2},{value:"PPM",id:"ppm",level:3},{value:"Miq",id:"miq",level:3},{value:"Installing plugins",id:"installing-plugins",level:2},{value:"Updating plugins",id:"updating-plugins",level:2},{value:"Uninstalling plugins",id:"uninstalling-plugins",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Plugin Manager Crash or Failure",id:"plugin-manager-crash-or-failure",level:3},{value:"PPM Installed from Scoop Fails to Install Plugins",id:"ppm-installed-from-scoop-fails-to-install-plugins",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"plugins",children:"Plugins"}),"\n",(0,i.jsx)(n.p,{children:"Pragtical implements many features as plugins. By default official releases\nbundle all language and color plugins for convenience."}),"\n",(0,i.jsxs)(n.p,{children:["Extra plugins can be found on the github ",(0,i.jsx)(n.a,{href:"https://github.com/pragtical/plugins",children:"plugins repository"})," or this website\n",(0,i.jsx)(n.a,{href:"/plugins",children:"Plugins"})," section, which implements a convenient graphical interface to the\nplugins repository."]}),"\n",(0,i.jsx)(n.admonition,{title:"These plugins are contributed by the community.",type:"note"}),"\n",(0,i.jsx)(n.h2,{id:"location",children:"Location"}),"\n",(0,i.jsxs)(n.p,{children:["Plugins that come bundled with Pragtical are usually stored in\n",(0,i.jsx)(n.code,{children:"DATADIR/plugins"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["On macOS, ",(0,i.jsx)(n.code,{children:"DATADIR"})," is always the application resources directory."]}),"\n",(0,i.jsxs)(n.p,{children:["On other platforms, Pragtical checks whether the program\nis installed according to Unix Filesystem Hierarchy Standard.\nIf that is true,\nthen ",(0,i.jsx)(n.code,{children:"DATADIR"})," will be ",(0,i.jsx)(n.code,{children:"<path-to-exe>/../share/pragtical"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Otherwise, ",(0,i.jsx)(n.code,{children:"DATADIR"})," will be ",(0,i.jsx)(n.code,{children:"<path-to-exe>/data"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["User plugins should be installed into ",(0,i.jsx)(n.code,{children:"USERDIR/plugins"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"plugin-managers",children:"Plugin managers"}),"\n",(0,i.jsx)(n.p,{children:"Recently, we've standardized various aspects of the plugin repository so that\nplugin managers can be built to install and manage plugins."}),"\n",(0,i.jsx)(n.p,{children:"Currently, there are two plugin managers made for Pragtical. These two plugin\nmanagers use vastly different ways of plugin management, so make sure to\nconsult the main page on each of them for exact instructions."}),"\n",(0,i.jsx)(n.h3,{id:"ppm",children:"PPM"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/pragtical/plugin-manager",children:"ppm"})," is more akin to distro package managers such as ",(0,i.jsx)(n.code,{children:"apt"})," and ",(0,i.jsx)(n.code,{children:"dnf"}),". ppm is\ncurrently shipped on pragtical official releases and a GUI for installing\nplugins is shipped as part of the editor, also it is accessible from the command\nline interface by invoking ",(0,i.jsx)(n.code,{children:"pragtical pm"}),"."]}),"\n",(0,i.jsx)("video",{autoplay:!0,muted:!0,loop:!0,style:{width:"100%"},controls:!0,children:(0,i.jsx)("source",{src:"/videos/user-guide/plugin-manager.mp4"})}),"\n",(0,i.jsx)(n.h3,{id:"miq",children:"Miq"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/TorchedSammy/Miq",children:"Miq"})," is a declarative plugin manager that allows user to declare plugins and\ninstall/update them all at once."]}),"\n",(0,i.jsx)(n.h2,{id:"installing-plugins",children:"Installing plugins"}),"\n",(0,i.jsxs)(n.p,{children:["To install a plugin, simply drag the related plugin file into\n",(0,i.jsx)(n.code,{children:"USERDIR/plugins"}),"."]}),"\n",(0,i.jsx)(n.admonition,{title:"For plugins that comes in a folder, please consult specific instructions for each plugin.",type:"caution",children:(0,i.jsxs)(n.p,{children:["Historically, Pragtical does not enforce a specific file structure for these\ntypes of plugins. Old plugins may not have a ",(0,i.jsx)(n.code,{children:"init.lua"})," file, which is used by\nLua to find a plugin. In this case, you need to follow their install instructions."]})}),"\n",(0,i.jsxs)(s.Z,{groupId:"package-manager",children:[(0,i.jsxs)(r.Z,{value:"ppm",label:"ppm",default:!0,children:[(0,i.jsxs)(n.p,{children:["To install a plugin with ppm, use ",(0,i.jsx)(n.code,{children:"ppm plugin install"}),".\nFor example, to install lsp, run:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ppm plugin install lsp\nor\n$ pragtical pm plugin install lsp\n"})}),(0,i.jsx)(n.p,{children:"This will install/update the lsp plugin."}),(0,i.jsxs)(n.p,{children:["To install themes or libraries, you can use\n",(0,i.jsx)(n.code,{children:"ppm color install"})," and ",(0,i.jsx)(n.code,{children:"ppm library install"})," respectively."]})]}),(0,i.jsxs)(r.Z,{value:"miq",label:"Miq",children:[(0,i.jsxs)(n.p,{children:["To install a plugin with Miq, you need to specify the list\nof plugins to install in ",(0,i.jsx)(n.code,{children:"config.plugins.miq.plugins"}),"."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"local config = require \"core.config\"\nconfig.plugins.miq.plugins = {\n  -- this allows Miq to manage itself\n  'TorchedSammy/Miq',\n\n  -- install lsp\n  'pragtical/lsp',\n}\n"})}),(0,i.jsxs)(n.p,{children:["Afterwards, you can run the command ",(0,i.jsx)(n.code,{children:"miq:install"})," to install\nthe plugins."]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"updating-plugins",children:"Updating plugins"}),"\n",(0,i.jsx)(n.p,{children:"To update a plugin, you'll need to re-download them.\nFor plugins hosted as separate git repositories, you can simply\npull new updates."}),"\n",(0,i.jsx)(n.p,{children:"If you have a plugin manager installed, updating plugins should\nbe easier."}),"\n",(0,i.jsxs)(s.Z,{groupId:"package-manager",children:[(0,i.jsxs)(r.Z,{value:"ppm",label:"ppm",default:!0,children:[(0,i.jsxs)(n.p,{children:["To update plugins with ppm, run ",(0,i.jsx)(n.code,{children:"ppm upgrade"}),"."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ppm upgrade\nor\n$ pragtical pm upgrade\n"})}),(0,i.jsx)(n.p,{children:"This will update all the plugins to their latest versions."})]}),(0,i.jsx)(r.Z,{value:"miq",label:"Miq",children:(0,i.jsxs)(n.p,{children:['To update plugins with Miq, run "miq',":update",'".']})})]}),"\n",(0,i.jsx)(n.h2,{id:"uninstalling-plugins",children:"Uninstalling plugins"}),"\n",(0,i.jsx)(n.p,{children:"To remove a plugin, simply delete the associated file/directory."}),"\n",(0,i.jsxs)(s.Z,{groupId:"package-manager",children:[(0,i.jsxs)(r.Z,{value:"ppm",label:"ppm",default:!0,children:[(0,i.jsxs)(n.p,{children:["To uninstall a plugin, run ",(0,i.jsx)(n.code,{children:"ppm plugin uninstall"}),".\nFor instance, to uninstall lsp, run:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ ppm plugin uninstall lsp\nor\n$ pragtical pm plugin uninstall lsp\n"})}),(0,i.jsxs)(n.p,{children:["Uninstalling themes and libraries can be done with\n",(0,i.jsx)(n.code,{children:"ppm color uninstall"})," and ",(0,i.jsx)(n.code,{children:"ppm library uninstall"})," respectively."]})]}),(0,i.jsx)(r.Z,{value:"miq",label:"Miq",children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Uninstalling plugins in Miq is currently not supported."})})})]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"plugin-manager-crash-or-failure",children:"Plugin Manager Crash or Failure"}),"\n",(0,i.jsx)(n.p,{children:"Most of the time this happens after updating to a newer plugin manager version\nand using old state data, common symptom is failing to download plugins.\nTo fix you can try the following steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Close any open editor instances."}),"\n",(0,i.jsxs)(n.li,{children:["Remove the plugin manager state directory ",(0,i.jsx)(n.code,{children:"rm -rf ~/.config/pragtical/ppm"}),"\n(on windows the directory is in ",(0,i.jsx)(n.code,{children:"C:\\Users\\YourUserName\\.config\\pragtical\\ppm"}),")."]}),"\n",(0,i.jsx)(n.li,{children:"Re-open the editor, launch the plugin manager and try again."}),"\n",(0,i.jsxs)(n.li,{children:["If this doesn't solves the problem open a ",(0,i.jsx)(n.a,{href:"https://github.com/pragtical/plugin-manager",children:"plugin manager issue"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ppm-installed-from-scoop-fails-to-install-plugins",children:"PPM Installed from Scoop Fails to Install Plugins"}),"\n",(0,i.jsxs)(n.p,{children:["If you installed ",(0,i.jsx)(n.code,{children:"ppm"})," and ",(0,i.jsx)(n.code,{children:"pragtical"})," from Scoop and receive an error message\nwhen trying to install plugins, such as ",(0,i.jsx)(n.code,{children:"can't find dependency"}),", it indicates\nthat ",(0,i.jsx)(n.code,{children:"ppm"})," was unable to locate the installation data files for ",(0,i.jsx)(n.code,{children:"pragtical"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Scoop adds the following directories to the environment variable ",(0,i.jsx)(n.code,{children:"PATH"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C:\\ProgramData\\scoop\\shims"})," (for globally installed apps)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C:\\Users\\<YourUsername>\\scoop\\shims"})," (for user-installed apps)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"It installs wrapper executables in these directories that redirect to the\nactual application installation paths, which can be:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C:\\ProgramData\\scoop\\apps\\pragtical\\current"})," (globally installed)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"C:\\Users\\<YourUsername>\\scoop\\apps\\pragtical\\current"})," (user installed)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This strategy of using redirector executable wrappers can cause the plugin\nmanager to fail when searching for the data files. The ",(0,i.jsx)(n.code,{children:"pragtical.exe"}),"\nredirector binary located in ",(0,i.jsx)(n.code,{children:"C:\\ProgramData\\scoop\\shims"})," or\n",(0,i.jsx)(n.code,{children:"C:\\Users\\<YourUsername>\\scoop\\shims"})," does not reside alongside the core Lua\nruntime files."]}),"\n",(0,i.jsxs)(n.p,{children:["To successfully install plugins that have explicit dependencies on core plugins,\nyou can use the ",(0,i.jsx)(n.code,{children:"--datadir"})," option to specify the installation path of\n",(0,i.jsx)(n.code,{children:"pragtical"})," data files. For example, to install ",(0,i.jsx)(n.code,{children:"lsp_quicklintjs"}),", which depends\non the core plugin ",(0,i.jsx)(n.code,{children:"language_js"}),", you can run:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"ppm install lsp_quicklintjs --datadir='C:\\ProgramData\\scoop\\apps\\pragtical\\current\\data'\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Another workaround is to prepend ",(0,i.jsx)(n.code,{children:"C:\\ProgramData\\scoop\\apps\\pragtical\\current"}),"\nor ",(0,i.jsx)(n.code,{children:"C:\\Users\\<YourUsername>\\scoop\\apps\\pragtical\\current"})," to the PATH environment\nvariable. This allows the plugin manager to properly locate the data directory,\nso you won't need to specify ",(0,i.jsx)(n.code,{children:"--datadir"})," each time you call ",(0,i.jsx)(n.code,{children:"ppm"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},5162:(e,n,l)=>{l.d(n,{Z:()=>r});l(7294);var i=l(512);const a={tabItem:"tabItem_Ymn6"};var s=l(5893);function r(e){let{children:n,hidden:l,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.Z)(a.tabItem,r),hidden:l,children:n})}},4866:(e,n,l)=>{l.d(n,{Z:()=>w});var i=l(7294),a=l(512),s=l(2466),r=l(6550),t=l(469),o=l(1980),c=l(7392),u=l(12);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:l}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:l,attributes:i,default:a}}=e;return{value:n,label:l,attributes:i,default:a}}))}(l);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,l])}function h(e){let{value:n,tabValues:l}=e;return l.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:l}=e;const a=(0,r.k6)(),s=function(e){let{queryString:n=!1,groupId:l}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!l)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return l??null}({queryString:n,groupId:l});return[(0,o._X)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function m(e){const{defaultValue:n,queryString:l=!1,groupId:a}=e,s=p(e),[r,o]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:l}=e;if(0===l.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:l}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${l.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=l.find((e=>e.default))??l[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[c,d]=g({queryString:l,groupId:a}),[m,x]=function(e){let{groupId:n}=e;const l=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,s]=(0,u.Nk)(l);return[a,(0,i.useCallback)((e=>{l&&s.set(e)}),[l,s])]}({groupId:a}),f=(()=>{const e=c??m;return h({value:e,tabValues:s})?e:null})();(0,t.Z)((()=>{f&&o(f)}),[f]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),x(e)}),[d,x,s]),tabValues:s}}var x=l(2389);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=l(5893);function b(e){let{className:n,block:l,selectedValue:i,selectValue:r,tabValues:t}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),u=e=>{const n=e.currentTarget,l=o.indexOf(n),a=t[l].value;a!==i&&(c(n),r(a))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const l=o.indexOf(e.currentTarget)+1;n=o[l]??o[0];break}case"ArrowLeft":{const l=o.indexOf(e.currentTarget)-1;n=o[l]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":l},n),children:t.map((e=>{let{value:n,label:l,attributes:s}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>o.push(e),onKeyDown:d,onClick:u,...s,className:(0,a.Z)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":i===n}),children:l??n},n)}))})}function v(e){let{lazy:n,children:l,selectedValue:a}=e;const s=(Array.isArray(l)?l:[l]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function y(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,a.Z)("tabs-container",f.tabList),children:[(0,j.jsx)(b,{...e,...n}),(0,j.jsx)(v,{...e,...n})]})}function w(e){const n=(0,x.Z)();return(0,j.jsx)(y,{...e,children:d(e.children)},String(n))}},1151:(e,n,l)=>{l.d(n,{Z:()=>t,a:()=>r});var i=l(7294);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);