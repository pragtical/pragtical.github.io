"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6382],{35353:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>r});var l=d(85893),s=d(11151);const i={sidebar_position:64},a="widget.fonts.cache",c={id:"api/widget.fonts.cache",title:"widget.fonts.cache",description:"index",source:"@site/docs/api/widget.fonts.cache.md",sourceDirName:"api",slug:"/api/widget.fonts.cache",permalink:"/docs/api/widget.fonts.cache",draft:!1,unlisted:!1,editUrl:"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/widget.fonts.cache.md",tags:[],version:"current",sidebarPosition:64,frontMatter:{sidebar_position:64},sidebar:"tutorialSidebar",previous:{title:"widget.fonts",permalink:"/docs/api/widget.fonts"},next:{title:"widget.fonts.info",permalink:"/docs/api/widget.fonts.info"}},o={},r=[{value:"__index",id:"__index",level:2},{value:"building",id:"building",level:2},{value:"fontdirs",id:"fontdirs",level:2},{value:"fontinfo",id:"fontinfo",level:2},{value:"fonts",id:"fonts",level:2},{value:"found",id:"found",level:2},{value:"found_monospaced",id:"found_monospaced",level:2},{value:"loaded_fonts",id:"loaded_fonts",level:2},{value:"monospaced",id:"monospaced",level:2},{value:"monosppaced",id:"monosppaced",level:2},{value:"searching_monospaced",id:"searching_monospaced",level:2},{value:"super",id:"super",level:2},{value:"__call",id:"__call",level:2},{value:"__tostring",id:"__tostring",level:2},{value:"build",id:"build",level:2},{value:"extend",id:"extend",level:2},{value:"extends",id:"extends",level:2},{value:"is",id:"is",level:2},{value:"is_building",id:"is_building",level:2},{value:"is_class_of",id:"is_class_of",level:2},{value:"is_extended_by",id:"is_extended_by",level:2},{value:"load_cache",id:"load_cache",level:2},{value:"new",id:"new",level:2},{value:"rebuild",id:"rebuild",level:2},{value:"save_cache",id:"save_cache",level:2},{value:"scan_dir",id:"scan_dir",level:2},{value:"search",id:"search",level:2},{value:"verify_monospaced",id:"verify_monospaced",level:2}];function t(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",hr:"hr",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"widgetfontscache",children:"widget.fonts.cache"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'local cache = require "widget.fonts.cache"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"__index",children:"__index"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) __index: core.object\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"building",children:"building"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) building: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"fontdirs",children:"fontdirs"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) fontdirs: table<integer, string>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"fontinfo",children:"fontinfo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) fontinfo: widget.fonts.info\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"fonts",children:"fonts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) fonts: widget.fonts.data[]\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"found",children:"found"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) found: integer\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"found_monospaced",children:"found_monospaced"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) found_monospaced: integer\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"loaded_fonts",children:"loaded_fonts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) loaded_fonts: table\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"monospaced",children:"monospaced"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) monospaced: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"monosppaced",children:"monosppaced"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) monosppaced: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"searching_monospaced",children:"searching_monospaced"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) searching_monospaced: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"super",children:"super"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) super: core.object\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"__call",children:"__call"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__call(...any)\n  -> core.object\n"})}),"\n",(0,l.jsx)(n.p,{children:"Metamethod to allow using the object call as a constructor."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"__tostring",children:"__tostring"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__tostring()\n  -> string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Metamethod to get a string representation of an object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"build",children:"build"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:build()\n  -> started: boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Build the font cache and save it."}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"started"})," \u2014 False if cache is already been built"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"extend",children:"extend"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extend()\n  -> core.object\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"extends",children:"extends"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extends(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the object inherits from the given type."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is",children:"is"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the object is strictly of the given type."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_building",children:"is_building"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:is_building()\n  -> building: boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the cache is already building."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_class_of",children:"is_class_of"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_class_of(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the parameter is strictly of the object type."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_extended_by",children:"is_extended_by"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_extended_by(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the parameter inherits from the object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"load_cache",children:"load_cache"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:load_cache()\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Load font cache from persistent file for faster startup time."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"new",children:"new"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:new()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Constructor"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"rebuild",children:"rebuild"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:rebuild()\n  -> started: boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Clear current font cache and rebuild it."}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"started"})," \u2014 False if cache is already been built"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"save_cache",children:"save_cache"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:save_cache()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Store current font cache to persistent file."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"scan_dir",children:"scan_dir"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:scan_dir(path: string, run_count?: integer)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Scan a directory for valid font files and load them into the cache."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"search",children:"search"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'(method) widget.fonts.cache:search(name: string, style?: "Extra bold italic"|"black"|"bold condensed"|"bold italic"|"bold oblique"...(+9), monospaced?: boolean)\n  -> font_data: (widget.fonts.data)?\n  2. errmsg: string?\n'})}),"\n",(0,l.jsx)(n.p,{children:"Search for a font and return the best match."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'style:\n   -\\> "regular"\n    | "bold"\n    | "italic"\n    | "bold italic"\n    | "thin"\n    | "medium"\n    | "light"\n    | "black"\n    | "condensed"\n    | "oblique"\n    | "bold oblique"\n    | "extra nold"\n    | "Extra bold italic"\n    | "bold condensed"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"verify_monospaced",children:"verify_monospaced"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:verify_monospaced()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Search and mark monospaced fonts on currently loaded cache and save it."}),"\n",(0,l.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},11151:(e,n,d)=>{d.d(n,{Z:()=>c,a:()=>a});var l=d(67294);const s={},i=l.createContext(s);function a(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);