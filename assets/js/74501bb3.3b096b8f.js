"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5241],{28453:(e,n,l)=>{l.d(n,{R:()=>c,x:()=>d});var r=l(96540);const i={},s=r.createContext(i);function c(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(s.Provider,{value:n},e.children)}},80252:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"api/core.docview","title":"core.docview","description":"View for editing documents with syntax highlighting and text editing.","source":"@site/docs/api/core.docview.md","sourceDirName":"api","slug":"/api/core.docview","permalink":"/docs/api/core.docview","draft":false,"unlisted":false,"editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/core.docview.md","tags":[],"version":"current","sidebarPosition":29,"frontMatter":{"sidebar_position":29},"sidebar":"tutorialSidebar","previous":{"title":"core.doc.search","permalink":"/docs/api/core.doc.search"},"next":{"title":"core.emptyview","permalink":"/docs/api/core.emptyview"}}');var i=l(74848),s=l(28453);const c={sidebar_position:29},d="core.docview",o={},a=[{value:"__index",id:"__index",level:2},{value:"cache_font",id:"cache_font",level:2},{value:"cache_font_size",id:"cache_font_size",level:2},{value:"cache_indent_size",id:"cache_indent_size",level:2},{value:"context",id:"context",level:2},{value:"current_scale",id:"current_scale",level:2},{value:"cursor",id:"cursor",level:2},{value:"doc",id:"doc",level:2},{value:"font",id:"font",level:2},{value:"h_scrollbar",id:"h_scrollbar",level:2},{value:"hovered_scrollbar",id:"hovered_scrollbar",level:2},{value:"hovering_gutter",id:"hovering_gutter",level:2},{value:"ime_status",id:"ime_status",level:2},{value:"last_col1",id:"last_col1",level:2},{value:"last_col2",id:"last_col2",level:2},{value:"last_line1",id:"last_line1",level:2},{value:"last_line2",id:"last_line2",level:2},{value:"last_x_offset",id:"last_x_offset",level:2},{value:"mouse_selecting",id:"mouse_selecting",level:2},{value:"scroll",id:"scroll",level:2},{value:"scrollable",id:"scrollable",level:2},{value:"size",id:"size",level:2},{value:"super",id:"super",level:2},{value:"translate",id:"translate",level:2},{value:"v_scrollbar",id:"v_scrollbar",level:2},{value:"core.docview.ime_selection",id:"coredocviewime_selection",level:2},{value:"from",id:"from",level:3},{value:"size",id:"size-1",level:3},{value:"core.docview.position",id:"coredocviewposition",level:2},{value:"col",id:"col",level:3},{value:"line",id:"line",level:3},{value:"offset",id:"offset",level:3},{value:"__call",id:"__call",level:2},{value:"__tostring",id:"__tostring",level:2},{value:"clamp_scroll_position",id:"clamp_scroll_position",level:2},{value:"draw",id:"draw",level:2},{value:"draw_background",id:"draw_background",level:2},{value:"draw_caret",id:"draw_caret",level:2},{value:"draw_ime_decoration",id:"draw_ime_decoration",level:2},{value:"draw_line_body",id:"draw_line_body",level:2},{value:"draw_line_gutter",id:"draw_line_gutter",level:2},{value:"draw_line_highlight",id:"draw_line_highlight",level:2},{value:"draw_line_text",id:"draw_line_text",level:2},{value:"draw_overlay",id:"draw_overlay",level:2},{value:"draw_scrollbar",id:"draw_scrollbar",level:2},{value:"extend",id:"extend",level:2},{value:"extends",id:"extends",level:2},{value:"get_col_x_offset",id:"get_col_x_offset",level:2},{value:"get_content_bounds",id:"get_content_bounds",level:2},{value:"get_content_offset",id:"get_content_offset",level:2},{value:"get_filename",id:"get_filename",level:2},{value:"get_font",id:"get_font",level:2},{value:"get_gutter_width",id:"get_gutter_width",level:2},{value:"get_h_scrollable_size",id:"get_h_scrollable_size",level:2},{value:"get_line_height",id:"get_line_height",level:2},{value:"get_line_screen_position",id:"get_line_screen_position",level:2},{value:"get_line_text_y_offset",id:"get_line_text_y_offset",level:2},{value:"get_name",id:"get_name",level:2},{value:"get_scrollable_size",id:"get_scrollable_size",level:2},{value:"get_visible_cols_range",id:"get_visible_cols_range",level:2},{value:"get_visible_line_range",id:"get_visible_line_range",level:2},{value:"get_x_offset_col",id:"get_x_offset_col",level:2},{value:"is",id:"is",level:2},{value:"is_class_of",id:"is_class_of",level:2},{value:"is_extended_by",id:"is_extended_by",level:2},{value:"mouse_selection",id:"mouse_selection",level:2},{value:"move_towards",id:"move_towards",level:2},{value:"new",id:"new",level:2},{value:"on_file_dropped",id:"on_file_dropped",level:2},{value:"on_ime_text_editing",id:"on_ime_text_editing",level:2},{value:"on_mouse_left",id:"on_mouse_left",level:2},{value:"on_mouse_moved",id:"on_mouse_moved",level:2},{value:"on_mouse_pressed",id:"on_mouse_pressed",level:2},{value:"on_mouse_released",id:"on_mouse_released",level:2},{value:"on_mouse_wheel",id:"on_mouse_wheel",level:2},{value:"on_scale_change",id:"on_scale_change",level:2},{value:"on_text_input",id:"on_text_input",level:2},{value:"on_touch_moved",id:"on_touch_moved",level:2},{value:"resolve_screen_position",id:"resolve_screen_position",level:2},{value:"scroll_to_line",id:"scroll_to_line",level:2},{value:"scroll_to_make_visible",id:"scroll_to_make_visible",level:2},{value:"scrollbar_dragging",id:"scrollbar_dragging",level:2},{value:"scrollbar_hovering",id:"scrollbar_hovering",level:2},{value:"scrollbar_overlaps_point",id:"scrollbar_overlaps_point",level:2},{value:"supports_text_input",id:"supports_text_input",level:2},{value:"try_close",id:"try_close",level:2},{value:"update",id:"update",level:2},{value:"update_ime_location",id:"update_ime_location",level:2},{value:"update_scrollbar",id:"update_scrollbar",level:2}];function t(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"coredocview",children:"core.docview"})}),"\n",(0,i.jsx)(n.p,{children:"View for editing documents with syntax highlighting and text editing.\nExtends View to provide text editing capabilities including selection,\nscrolling, IME support, and rendering with syntax highlighting."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'local docview = require "core.docview"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"__index",children:"__index"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) __index: core.object\n"})}),"\n",(0,i.jsx)(n.p,{children:"Base class providing OOP functionality for Lua.\nAll classes in Pragtical inherit from Object."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cache_font",children:"cache_font"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) cache_font: renderer.font\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cache_font_size",children:"cache_font_size"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) cache_font_size: number\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cache_indent_size",children:"cache_indent_size"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) cache_indent_size: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"context",children:"context"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) context: string\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"current_scale",children:"current_scale"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) current_scale: number\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cursor",children:"cursor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) cursor: string\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"doc",children:"doc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) doc: core.doc\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"font",children:"font"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) font: string\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"h_scrollbar",children:"h_scrollbar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) h_scrollbar: core.scrollbar\n"})}),"\n",(0,i.jsx)(n.p,{children:'Scrollable viewport indicator with draggable thumb.\nSupports both vertical and horizontal orientation with configurable alignment.\nUses a "normal" coordinate system internally that treats all scrollbars as\nvertical-end-aligned, then transforms to the actual orientation/alignment.'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"hovered_scrollbar",children:"hovered_scrollbar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) hovered_scrollbar: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"hovering_gutter",children:"hovering_gutter"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) hovering_gutter: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ime_status",children:"ime_status"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) ime_status: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"last_col1",children:"last_col1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) last_col1: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"last_col2",children:"last_col2"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) last_col2: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"last_line1",children:"last_line1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) last_line1: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"last_line2",children:"last_line2"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) last_line2: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"last_x_offset",children:"last_x_offset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) last_x_offset: core.docview.position\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"mouse_selecting",children:"mouse_selecting"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) mouse_selecting: table?\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scroll",children:"scroll"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) scroll: core.view.scroll\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scrollable",children:"scrollable"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) scrollable: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"size",children:"size"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) size: core.view.position\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"super",children:"super"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) super: core.view\n"})}),"\n",(0,i.jsx)(n.p,{children:"Base view."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"translate",children:"translate"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) translate: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"v_scrollbar",children:"v_scrollbar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) v_scrollbar: core.scrollbar\n"})}),"\n",(0,i.jsx)(n.p,{children:'Scrollable viewport indicator with draggable thumb.\nSupports both vertical and horizontal orientation with configurable alignment.\nUses a "normal" coordinate system internally that treats all scrollbars as\nvertical-end-aligned, then transforms to the actual orientation/alignment.'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"coredocviewime_selection",children:"core.docview.ime_selection"}),"\n",(0,i.jsx)(n.h3,{id:"from",children:"from"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) from: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"size-1",children:"size"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) size: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"coredocviewposition",children:"core.docview.position"}),"\n",(0,i.jsx)(n.h3,{id:"col",children:"col"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) col: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"line",children:"line"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) line: integer\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"offset",children:"offset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) offset: number\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"__call",children:"__call"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__call(...any)\n  -> obj: core.object\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Metamethod allowing class to be called like a constructor.\nEnables syntax: ",(0,i.jsx)(n.code,{children:"local obj = MyClass(args)"})," instead of ",(0,i.jsx)(n.code,{children:"MyClass:new(args)"}),"\nAutomatically creates instance and calls new() with provided arguments."]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"obj"})," \u2014 The new instance of the class"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"__tostring",children:"__tostring"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:__tostring()\n  -> string\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"clamp_scroll_position",children:"clamp_scroll_position"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:clamp_scroll_position()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Clamp scroll position to valid range (0 to max scrollable size).\nCalled automatically by update(). Override get_scrollable_size() to customize."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw",children:"draw"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw the entire document view.\nRenders background, gutters, text, selections, carets, and scrollbars."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_background",children:"draw_background"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:draw_background(color: renderer.color)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw a solid background color for the entire view.\nCommonly called at the start of draw() methods."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_caret",children:"draw_caret"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_caret(x: number, y: number, line: integer, col: integer)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw the caret at a position."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number (for overwrite mode char width)"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col"})," \u2014 Column number (for overwrite mode char width)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_ime_decoration",children:"draw_ime_decoration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_ime_decoration(line1: integer, col1: integer, line2: integer, col2: integer)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw IME composition decoration (underline and selection)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line1"})," \u2014 Start line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col1"})," \u2014 Start column"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line2"})," \u2014 End line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col2"})," \u2014 End column"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_line_body",children:"draw_line_body"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_line_body(line: integer, x: number, y: number)\n  -> height: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw a complete line including highlight and selections."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"height"})," \u2014 Line height"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_line_gutter",children:"draw_line_gutter"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_line_gutter(line: integer, x: number, y: number, width: number)\n  -> height: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw the gutter with line numbers."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"width"})," \u2014 Gutter width"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"height"})," \u2014 Line height"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_line_highlight",children:"draw_line_highlight"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_line_highlight(x: number, y: number)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw the current line highlight bar."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_line_text",children:"draw_line_text"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_line_text(line: integer, x: number, y: number)\n  -> height: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw the text content of a line with syntax highlighting."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"height"})," \u2014 Line height"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_overlay",children:"draw_overlay"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:draw_overlay()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw overlay elements (carets, IME decoration).\nCalled after main text to draw on top."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"draw_scrollbar",children:"draw_scrollbar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:draw_scrollbar()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Draw the view's scrollbars.\nCommonly called at the end of draw() methods."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"extend",children:"extend"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extend()\n  -> cls: core.object\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Create a new class that inherits from this one.\nReturns a new class with this class as its parent.\nExample: ",(0,i.jsx)(n.code,{children:"local MyClass = Object:extend()"})]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"cls"})," \u2014 The new class table"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"extends",children:"extends"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extends(T: any)\n  -> extends: boolean\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check if object inherits from the given type (inheritance-aware).\nUse this to check class hierarchy.\nExample: ",(0,i.jsx)(n.code,{children:"view:extends(View)"})," returns true for View and all subclasses"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"T"})," \u2014 Class to check inheritance from"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"extends"})," \u2014 True if object is T or inherits from T"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_col_x_offset",children:"get_col_x_offset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_col_x_offset(line: integer, col: integer)\n  -> offset: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the horizontal pixel offset for a column position.\nAccounts for tabs, syntax highlighting fonts, and caches long lines."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col"})," \u2014 Column number (byte offset)"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"offset"})," \u2014 Horizontal pixel offset"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_content_bounds",children:"get_content_bounds"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:get_content_bounds()\n  -> x1: number\n  2. y1: number\n  3. x2: number\n  4. y2: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the content bounds in content coordinates (accounting for scroll)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"x1"})," \u2014 Left edge"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"y1"})," \u2014 Top edge"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"x2"})," \u2014 Right edge"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"y2"})," \u2014 Bottom edge"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_content_offset",children:"get_content_offset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:get_content_offset()\n  -> x: number\n  2. y: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the top-left corner of content area in screen coordinates.\nAccounts for scroll offset. Use for drawing content at correct position."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_filename",children:"get_filename"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_filename()\n  -> filename: string\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the full filename path for display (with home directory encoded)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"filename"})," \u2014 Full path or name with asterisk if modified"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_font",children:"get_font"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_font()\n  -> font: renderer.font\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the font used for rendering text."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"font"})," \u2014 The code font"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_gutter_width",children:"get_gutter_width"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_gutter_width()\n  -> width: number\n  2. padding: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the gutter width (line numbers area)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"width"})," \u2014 Total gutter width"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"padding"})," \u2014 Padding within gutter"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_h_scrollable_size",children:"get_h_scrollable_size"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_h_scrollable_size()\n  -> width: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the scrollable width (infinite for horizontal scrolling)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"width"})," \u2014 Always returns math.huge"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_line_height",children:"get_line_height"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_line_height()\n  -> height: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the line height in pixels."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"height"})," \u2014 Line height including line spacing"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_line_screen_position",children:"get_line_screen_position"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_line_screen_position(line: integer, col?: integer)\n  -> x: number\n  2. y: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the screen position of a line (and optionally column)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col"})," \u2014 Optional column number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_line_text_y_offset",children:"get_line_text_y_offset"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_line_text_y_offset()\n  -> offset: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the vertical offset for centering text within a line."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"offset"})," \u2014 Y offset to center text in line height"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_name",children:"get_name"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_name()\n  -> name: string\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the display name for the tab (filename with * if dirty)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"name"})," \u2014 Document name with asterisk if modified"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_scrollable_size",children:"get_scrollable_size"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_scrollable_size()\n  -> height: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the total scrollable height of the document."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"height"})," \u2014 Total height in pixels"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_visible_cols_range",children:"get_visible_cols_range"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_visible_cols_range(line: integer, extra_cols?: integer)\n  -> col1: integer\n  2. col2: integer\n  3. ucol1: integer\n  4. ucol2: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get an estimated range of visible columns. It is an estimate because fonts\nand their fallbacks may not be monospaced or may differ in size. This\nfunction provides a way of optimization on really long lines for plugins\nthat perform drawing operations on them."}),"\n",(0,i.jsxs)(n.p,{children:["It is good practice to set the ",(0,i.jsx)(n.code,{children:"extra_cols"})," parameter to a value that leaves\nroom for the differences in font sizes."]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"extra_cols"})," \u2014 Amount of columns to deduce on col1 and include on col2 (default: 100)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_visible_line_range",children:"get_visible_line_range"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_visible_line_range()\n  -> minline: integer\n  2. maxline: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the range of visible lines in the current viewport."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"minline"})," \u2014 First visible line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"maxline"})," \u2014 Last visible line"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"get_x_offset_col",children:"get_x_offset_col"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:get_x_offset_col(line: integer, x: number)\n  -> col: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Get the column at a horizontal pixel offset.\nInverse of get_col_x_offset. Accounts for variable-width fonts."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Horizontal pixel offset"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"col"})," \u2014 Column number (byte offset)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"is",children:"is"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is(T: any)\n  -> is_exact: boolean\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check if object is exactly of the given type (no inheritance check).\nUse this for strict type matching.\nExample: ",(0,i.jsx)(n.code,{children:"view:is(DocView)"})," returns true only if view is a DocView, not a subclass"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"T"})," \u2014 Class to check against"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"is_exact"})," \u2014 True if object is exactly type T"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"is_class_of",children:"is_class_of"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_class_of(T: any)\n  -> is_instance: boolean\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check if the given object is exactly an instance of this class.\nInverse of is() - checks if T is an instance of self.\nExample: ",(0,i.jsx)(n.code,{children:"DocView:is_class_of(obj)"})," checks if obj is exactly a DocView"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"T"})," \u2014 Object to check"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"is_instance"})," \u2014 True if T is exactly an instance of this class"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"is_extended_by",children:"is_extended_by"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_extended_by(T: any)\n  -> is_extended: boolean\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check if the given object/class inherits from this class.\nInverse of extends() - checks if T is a subclass of self.\nExample: ",(0,i.jsx)(n.code,{children:"View:is_extended_by(DocView)"})," checks if DocView inherits from View"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"T"})," \u2014 Object or class to check"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"is_extended"})," \u2014 True if T inherits from this class"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"mouse_selection",children:"mouse_selection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:mouse_selection(doc: core.doc, snap_type: string, line1: integer, col1: integer, line2: integer, col2: integer)\n  -> line1: integer\n  2. col1: integer\n  3. line2: integer\n  4. col2: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Adjust selection based on snap type (word, line)."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"doc"})," \u2014 Document"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"snap_type"}),' \u2014 Snap type: "word" or "lines"']}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line1"})," \u2014 Start line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col1"})," \u2014 Start column"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line2"})," \u2014 End line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col2"})," \u2014 End column"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"line1"})," \u2014 Adjusted start line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"col1"})," \u2014 Adjusted start column"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"line2"})," \u2014 Adjusted end line"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"col2"})," \u2014 Adjusted end column"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"move_towards",children:"move_towards"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:move_towards(t: table, k: string|number, dest: number, rate?: number, name?: string)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Smoothly animate a value towards a destination.\nUse this for animations instead of direct assignment."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"t"})," \u2014 Table containing the value"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"k"})," \u2014 Key in table"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"dest"})," \u2014 Target value"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"rate"})," \u2014 Animation speed (0-1, default 0.5, higher = faster)"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"name"})," \u2014 Transition name (for config.disabled_transitions)"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"new",children:"new"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:new(doc: core.doc)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Constructor - initializes a document view."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"doc"})," \u2014 Document to display"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_file_dropped",children:"on_file_dropped"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:on_file_dropped(filename: string, x: number, y: number)\n  -> consumed: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle file drop events (drag and drop from OS).\nOverride to handle dropped files. Return true to consume event."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"filename"})," \u2014 Absolute path to dropped file"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x where file was dropped"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y where file was dropped"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"consumed"})," \u2014 True to consume event, false to propagate"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_ime_text_editing",children:"on_ime_text_editing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:on_ime_text_editing(text: string, start: integer, length: integer)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle IME text composition events.\nUpdates IME decoration and scrolls to keep composition visible."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"text"})," \u2014 Composition text"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"start"})," \u2014 Selection start within composition"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"length"})," \u2014 Selection length within composition"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_mouse_left",children:"on_mouse_left"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:on_mouse_left()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Called when mouse leaves the view's area.\nOverride to clear hover states. Base implementation notifies scrollbars."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_mouse_moved",children:"on_mouse_moved"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:on_mouse_moved(x: number, y: number, ...any)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle mouse movement for cursor changes and text selection.\nUpdates cursor icon, gutter hover state, and extends selection if dragging."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_mouse_pressed",children:"on_mouse_pressed"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:on_mouse_pressed(button: 'left'|'right', x: number, y: number, clicks: integer)\n  -> handled: boolean?\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle mouse press for text selection and gutter clicks.\nSupports single/double click, shift-selection, and gutter line selection."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"clicks"})," \u2014 Number of clicks"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"handled"})," \u2014 True if event was handled"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"button:\n    | 'left'\n    | 'right'\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_mouse_released",children:"on_mouse_released"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:on_mouse_released(...any)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle mouse release to end text selection."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_mouse_wheel",children:"on_mouse_wheel"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:on_mouse_wheel(y: number, x: number)\n  -> consumed: boolean?\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle mouse wheel scroll events.\nOverride for custom scroll behavior. Base implementation does nothing."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"}),' \u2014 Vertical scroll delta; positive is "up"']}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"}),' \u2014 Horizontal scroll delta; positive is "left"']}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"consumed"})," \u2014 True to consume event"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_scale_change",children:"on_scale_change"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:on_scale_change(new_scale: number, prev_scale: number)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Called when DPI scale changes (display moved, zoom changed, etc.).\nOverride to adjust sizes, padding, or other scale-dependent values."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"new_scale"})," \u2014 New scale factor (e.g., 1.0, 1.5, 2.0)"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"prev_scale"})," \u2014 Previous scale factor"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_text_input",children:"on_text_input"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:on_text_input(text: string)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle text input from keyboard."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"text"})," \u2014 Input text"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"on_touch_moved",children:"on_touch_moved"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:on_touch_moved(x: number, y: number, dx: number, dy: number, i: number)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Handle touch move events (touchscreen/trackpad gestures).\nOverride for touch-specific behavior. Base implementation handles scrolling."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Current touch x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Current touch y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"dx"})," \u2014 Delta x since last position"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"dy"})," \u2014 Delta y since last position"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"i"})," \u2014 Touch finger/pointer index"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"resolve_screen_position",children:"resolve_screen_position"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:resolve_screen_position(x: number, y: number)\n  -> line: integer\n  2. col: integer\n"})}),"\n",(0,i.jsx)(n.p,{children:"Convert screen coordinates to document line/column."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"col"})," \u2014 Column number"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scroll_to_line",children:"scroll_to_line"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:scroll_to_line(line: integer, ignore_if_visible?: boolean, instant?: boolean)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Scroll to center a line in the viewport."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number to scroll to"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"ignore_if_visible"})," \u2014 Don't scroll if line already visible"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"instant"})," \u2014 Jump immediately without animation"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scroll_to_make_visible",children:"scroll_to_make_visible"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:scroll_to_make_visible(line: integer, col: integer, instant?: boolean)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Scroll to make a position visible with context padding.\nEnsures the position is visible with surrounding context lines."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"line"})," \u2014 Line number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"col"})," \u2014 Column number"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"instant"})," \u2014 Jump immediately without animation"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scrollbar_dragging",children:"scrollbar_dragging"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:scrollbar_dragging()\n  -> dragging: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if user is currently dragging either scrollbar."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"dragging"})," \u2014 True if scrollbar drag is in progress"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scrollbar_hovering",children:"scrollbar_hovering"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:scrollbar_hovering()\n  -> hovering: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if mouse is hovering over either scrollbar track."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"hovering"})," \u2014 True if mouse is over scrollbar"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scrollbar_overlaps_point",children:"scrollbar_overlaps_point"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:scrollbar_overlaps_point(x: number, y: number)\n  -> overlaps: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if a screen point overlaps either scrollbar.\nUseful for determining cursor style or handling clicks."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"x"})," \u2014 Screen x coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"y"})," \u2014 Screen y coordinate"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"overlaps"})," \u2014 True if point is over vertical or horizontal scrollbar"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"supports_text_input",children:"supports_text_input"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:supports_text_input()\n  -> accepts: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check if this view accepts text input."}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"return"})," ",(0,i.jsx)(n.code,{children:"accepts"})," \u2014 Always returns true for DocView"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"try_close",children:"try_close"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:try_close(do_close: function)\n"})}),"\n",(0,i.jsx)(n.p,{children:'Attempt to close the view, prompting to save if document is dirty.\nShows "Unsaved Changes" dialog if this is the last view of a dirty document.'}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"do_close"})," \u2014 Callback to execute when close is confirmed"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"update",children:"update"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:update()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Update the view state each frame.\nHandles cache invalidation, auto-scrolling to caret, and blink timing."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"update_ime_location",children:"update_ime_location"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.docview:update_ime_location()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Update IME composition window location.\nSets the bounding box for the system IME composition window."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"update_scrollbar",children:"update_scrollbar"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) core.view:update_scrollbar()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Update scrollbar positions and sizes.\nCalled automatically by update(). Rarely needs to be called manually."}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}}}]);