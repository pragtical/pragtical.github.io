"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6866],{21560:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>I,default:()=>l,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var r=t(85893),i=t(11151);const s={sidebar_position:4},I="encoding",c={id:"api/encoding",title:"encoding",description:"Utilities for encoding detection and conversion.",source:"@site/docs/api/encoding.md",sourceDirName:"api",slug:"/api/encoding",permalink:"/docs/api/encoding",draft:!1,unlisted:!1,editUrl:"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/encoding.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"dirmonitor",permalink:"/docs/api/dirmonitor"},next:{title:"process",permalink:"/docs/api/process"}},o={},a=[{value:"encoding.convert_options",id:"encodingconvert_options",level:2},{value:"handle_from_bom",id:"handle_from_bom",level:3},{value:"handle_to_bom",id:"handle_to_bom",level:3},{value:"strict",id:"strict",level:3},{value:"convert",id:"convert",level:2},{value:"detect",id:"detect",level:2},{value:"detect_string",id:"detect_string",level:2},{value:"get_charset_bom",id:"get_charset_bom",level:2},{value:"strip_bom",id:"strip_bom",level:2}];function d(n){const e={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"encoding",children:"encoding"}),"\n",(0,r.jsx)(e.p,{children:"Utilities for encoding detection and conversion."}),"\n",(0,r.jsx)(e.h2,{id:"encodingconvert_options",children:"encoding.convert_options"}),"\n",(0,r.jsx)(e.h3,{id:"handle_from_bom",children:"handle_from_bom"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"(field) handle_from_bom: boolean\n"})}),"\n",(0,r.jsx)(e.p,{children:"If applicable strips the byte order marks."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"handle_to_bom",children:"handle_to_bom"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"(field) handle_to_bom: boolean\n"})}),"\n",(0,r.jsx)(e.p,{children:"If applicable adds the byte order marks."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"strict",children:"strict"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"(field) strict: boolean\n"})}),"\n",(0,r.jsx)(e.p,{children:"When true fail if errors found."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"convert",children:"convert"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function encoding.convert(tocharset: "ARMSCII-8"|"BIG5"|"BIG5-HKSCS"|"CP866"|"CP932"...(+57), fromcharset: "ARMSCII-8"|"BIG5"|"BIG5-HKSCS"|"CP866"|"CP932"...(+57), text: string, options?: encoding.convert_options)\n  -> converted_text: string|nil\n  2. errmsg: string\n'})}),"\n",(0,r.jsx)(e.p,{children:"Converts the given text from one encoding into another."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'tocharset:\n   -\\> "ARMSCII-8"\n    | "BIG5"\n    | "BIG5-HKSCS"\n    | "CP866"\n    | "CP932"\n    | "EUC-JP"\n    | "EUC-KR"\n    | "EUC-TW"\n    | "GB18030"\n    | "GB2312"\n    | "GBK"\n    | "GEORGIAN-ACADEMY"\n    | "HZ"\n    | "IBM850"\n    | "IBM852"\n    | "IBM855"\n    | "IBM857"\n    | "IBM862"\n    | "IBM864"\n    | "ISO-2022-JP"\n    | "ISO-2022-KR"\n    | "ISO-8859-1"\n    | "ISO-8859-2"\n    | "ISO-8859-3"\n    | "ISO-8859-4"\n    | "ISO-8859-5"\n    | "ISO-8859-6"\n    | "ISO-8859-7"\n    | "ISO-8859-8"\n    | "ISO-8859-8-I"\n    | "ISO-8859-9"\n    | "ISO-8859-10"\n    | "ISO-8859-13"\n    | "ISO-8859-14"\n    | "ISO-8859-15"\n    | "ISO-8859-16"\n    | "ISO-IR-111"\n    | "JOHAB"\n    | "KOI8-R"\n    | "KOI8-U"\n    | "SHIFT_JIS"\n    | "TCVN"\n    | "TIS-620"\n    | "UCS-2BE"\n    | "UCS-2LE"\n    | "UHC"\n    | "UTF-16BE"\n    | "UTF-16LE"\n    | "UTF-32BE"\n    | "UTF-32LE"\n    | "UTF-7"\n    | "UTF-8"\n    | "VISCII"\n    | "WINDOWS-1250"\n    | "WINDOWS-1251"\n    | "WINDOWS-1252"\n    | "WINDOWS-1253"\n    | "WINDOWS-1254"\n    | "WINDOWS-1255"\n    | "WINDOWS-1256"\n    | "WINDOWS-1257"\n    | "WINDOWS-1258"\n\nfromcharset:\n   -\\> "ARMSCII-8"\n    | "BIG5"\n    | "BIG5-HKSCS"\n    | "CP866"\n    | "CP932"\n    | "EUC-JP"\n    | "EUC-KR"\n    | "EUC-TW"\n    | "GB18030"\n    | "GB2312"\n    | "GBK"\n    | "GEORGIAN-ACADEMY"\n    | "HZ"\n    | "IBM850"\n    | "IBM852"\n    | "IBM855"\n    | "IBM857"\n    | "IBM862"\n    | "IBM864"\n    | "ISO-2022-JP"\n    | "ISO-2022-KR"\n    | "ISO-8859-1"\n    | "ISO-8859-2"\n    | "ISO-8859-3"\n    | "ISO-8859-4"\n    | "ISO-8859-5"\n    | "ISO-8859-6"\n    | "ISO-8859-7"\n    | "ISO-8859-8"\n    | "ISO-8859-8-I"\n    | "ISO-8859-9"\n    | "ISO-8859-10"\n    | "ISO-8859-13"\n    | "ISO-8859-14"\n    | "ISO-8859-15"\n    | "ISO-8859-16"\n    | "ISO-IR-111"\n    | "JOHAB"\n    | "KOI8-R"\n    | "KOI8-U"\n    | "SHIFT_JIS"\n    | "TCVN"\n    | "TIS-620"\n    | "UCS-2BE"\n    | "UCS-2LE"\n    | "UHC"\n    | "UTF-16BE"\n    | "UTF-16LE"\n    | "UTF-32BE"\n    | "UTF-32LE"\n    | "UTF-7"\n    | "UTF-8"\n    | "VISCII"\n    | "WINDOWS-1250"\n    | "WINDOWS-1251"\n    | "WINDOWS-1252"\n    | "WINDOWS-1253"\n    | "WINDOWS-1254"\n    | "WINDOWS-1255"\n    | "WINDOWS-1256"\n    | "WINDOWS-1257"\n    | "WINDOWS-1258"\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"detect",children:"detect"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function encoding.detect(filename: string)\n  -> charset: string|nil\n  2. errmsg: string\n"})}),"\n",(0,r.jsx)(e.p,{children:"Try and detect the encoding to best of capabilities for given file given or\nreturns nil and error message on failure."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"detect_string",children:"detect_string"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:"function encoding.detect_string(text: string)\n  -> charset: string|nil\n  2. errmsg: string\n"})}),"\n",(0,r.jsx)(e.p,{children:"Same as encoding.detect() but for strings."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"get_charset_bom",children:"get_charset_bom"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function encoding.get_charset_bom(charset: "ARMSCII-8"|"BIG5"|"BIG5-HKSCS"|"CP866"|"CP932"...(+57))\n  -> bom: string\n'})}),"\n",(0,r.jsx)(e.p,{children:"Get the byte order marks for the given charset if applicable."}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'charset:\n   -\\> "ARMSCII-8"\n    | "BIG5"\n    | "BIG5-HKSCS"\n    | "CP866"\n    | "CP932"\n    | "EUC-JP"\n    | "EUC-KR"\n    | "EUC-TW"\n    | "GB18030"\n    | "GB2312"\n    | "GBK"\n    | "GEORGIAN-ACADEMY"\n    | "HZ"\n    | "IBM850"\n    | "IBM852"\n    | "IBM855"\n    | "IBM857"\n    | "IBM862"\n    | "IBM864"\n    | "ISO-2022-JP"\n    | "ISO-2022-KR"\n    | "ISO-8859-1"\n    | "ISO-8859-2"\n    | "ISO-8859-3"\n    | "ISO-8859-4"\n    | "ISO-8859-5"\n    | "ISO-8859-6"\n    | "ISO-8859-7"\n    | "ISO-8859-8"\n    | "ISO-8859-8-I"\n    | "ISO-8859-9"\n    | "ISO-8859-10"\n    | "ISO-8859-13"\n    | "ISO-8859-14"\n    | "ISO-8859-15"\n    | "ISO-8859-16"\n    | "ISO-IR-111"\n    | "JOHAB"\n    | "KOI8-R"\n    | "KOI8-U"\n    | "SHIFT_JIS"\n    | "TCVN"\n    | "TIS-620"\n    | "UCS-2BE"\n    | "UCS-2LE"\n    | "UHC"\n    | "UTF-16BE"\n    | "UTF-16LE"\n    | "UTF-32BE"\n    | "UTF-32LE"\n    | "UTF-7"\n    | "UTF-8"\n    | "VISCII"\n    | "WINDOWS-1250"\n    | "WINDOWS-1251"\n    | "WINDOWS-1252"\n    | "WINDOWS-1253"\n    | "WINDOWS-1254"\n    | "WINDOWS-1255"\n    | "WINDOWS-1256"\n    | "WINDOWS-1257"\n    | "WINDOWS-1258"\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"strip_bom",children:"strip_bom"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'function encoding.strip_bom(text: string, charset?: "ARMSCII-8"|"BIG5"|"BIG5-HKSCS"|"CP866"|"CP932"...(+57))\n  -> cleaned_text: string\n'})}),"\n",(0,r.jsx)(e.p,{children:"Remove the byte order marks from the given text."}),"\n",(0,r.jsxs)(e.p,{children:["@",(0,r.jsx)(e.em,{children:"param"})," ",(0,r.jsx)(e.code,{children:"text"})," \u2014 A string that may contain a byte order marks."]}),"\n",(0,r.jsxs)(e.p,{children:["@",(0,r.jsx)(e.em,{children:"param"})," ",(0,r.jsx)(e.code,{children:"charset"})," \u2014 Charset to scan, if nil scan all charsets with bom."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-lua",children:'charset:\n   -\\> "ARMSCII-8"\n    | "BIG5"\n    | "BIG5-HKSCS"\n    | "CP866"\n    | "CP932"\n    | "EUC-JP"\n    | "EUC-KR"\n    | "EUC-TW"\n    | "GB18030"\n    | "GB2312"\n    | "GBK"\n    | "GEORGIAN-ACADEMY"\n    | "HZ"\n    | "IBM850"\n    | "IBM852"\n    | "IBM855"\n    | "IBM857"\n    | "IBM862"\n    | "IBM864"\n    | "ISO-2022-JP"\n    | "ISO-2022-KR"\n    | "ISO-8859-1"\n    | "ISO-8859-2"\n    | "ISO-8859-3"\n    | "ISO-8859-4"\n    | "ISO-8859-5"\n    | "ISO-8859-6"\n    | "ISO-8859-7"\n    | "ISO-8859-8"\n    | "ISO-8859-8-I"\n    | "ISO-8859-9"\n    | "ISO-8859-10"\n    | "ISO-8859-13"\n    | "ISO-8859-14"\n    | "ISO-8859-15"\n    | "ISO-8859-16"\n    | "ISO-IR-111"\n    | "JOHAB"\n    | "KOI8-R"\n    | "KOI8-U"\n    | "SHIFT_JIS"\n    | "TCVN"\n    | "TIS-620"\n    | "UCS-2BE"\n    | "UCS-2LE"\n    | "UHC"\n    | "UTF-16BE"\n    | "UTF-16LE"\n    | "UTF-32BE"\n    | "UTF-32LE"\n    | "UTF-7"\n    | "UTF-8"\n    | "VISCII"\n    | "WINDOWS-1250"\n    | "WINDOWS-1251"\n    | "WINDOWS-1252"\n    | "WINDOWS-1253"\n    | "WINDOWS-1254"\n    | "WINDOWS-1255"\n    | "WINDOWS-1256"\n    | "WINDOWS-1257"\n    | "WINDOWS-1258"\n'})}),"\n",(0,r.jsx)(e.hr,{})]})}function l(n={}){const{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},11151:(n,e,t)=>{t.d(e,{Z:()=>c,a:()=>I});var r=t(67294);const i={},s=r.createContext(i);function I(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:I(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);