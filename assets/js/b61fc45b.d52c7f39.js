"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6618],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>d});var i=s(96540);const l={},a=i.createContext(l);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(a.Provider,{value:n},e.children)}},64504:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"api/plugins.ipc","title":"plugins.ipc","description":"index","source":"@site/docs/api/plugins.ipc.md","sourceDirName":"api","slug":"/api/plugins.ipc","permalink":"/docs/api/plugins.ipc","draft":false,"unlisted":false,"editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/plugins.ipc.md","tags":[],"version":"current","sidebarPosition":54,"frontMatter":{"sidebar_position":54},"sidebar":"tutorialSidebar","previous":{"title":"plugins.findfile","permalink":"/docs/api/plugins.findfile"},"next":{"title":"plugins.lineguide","permalink":"/docs/api/plugins.lineguide"}}');var l=s(74848),a=s(28453);const r={sidebar_position:54},d="plugins.ipc",c={},t=[{value:"__index",id:"__index",level:2},{value:"coroutine_key",id:"coroutine_key",level:2},{value:"file",id:"file",level:2},{value:"id",id:"id",level:2},{value:"last_output",id:"last_output",level:2},{value:"listeners",id:"listeners",level:2},{value:"messages",id:"messages",level:2},{value:"method_definitions",id:"method_definitions",level:2},{value:"methods",id:"methods",level:2},{value:"next_update",id:"next_update",level:2},{value:"position",id:"position",level:2},{value:"primary",id:"primary",level:2},{value:"replies",id:"replies",level:2},{value:"running",id:"running",level:2},{value:"shmem",id:"shmem",level:2},{value:"signal_definitions",id:"signal_definitions",level:2},{value:"signals",id:"signals",level:2},{value:"super",id:"super",level:2},{value:"user_dir",id:"user_dir",level:2},{value:"config.plugins.ipc",id:"configpluginsipc",level:2},{value:"dirs_instance",id:"dirs_instance",level:3},{value:"single_instance",id:"single_instance",level:3},{value:"plugins.ipc.function",id:"pluginsipcfunction",level:2},{value:"plugins.ipc.instance",id:"pluginsipcinstance",level:2},{value:"id",id:"id-1",level:3},{value:"last_update",id:"last_update",level:3},{value:"messages",id:"messages-1",level:3},{value:"position",id:"position-1",level:3},{value:"primary",id:"primary-1",level:3},{value:"properties",id:"properties",level:3},{value:"replies",id:"replies-1",level:3},{value:"plugins.ipc.message",id:"pluginsipcmessage",level:2},{value:"data",id:"data",level:3},{value:"destinations",id:"destinations",level:3},{value:"id",id:"id-2",level:3},{value:"name",id:"name",level:3},{value:"on_read",id:"on_read",level:3},{value:"on_reply",id:"on_reply",level:3},{value:"replies",id:"replies-2",level:3},{value:"sender",id:"sender",level:3},{value:"timestamp",id:"timestamp",level:3},{value:"type",id:"type",level:3},{value:"plugins.ipc.messagetype",id:"pluginsipcmessagetype",level:2},{value:"plugins.ipc.onmessage",id:"pluginsipconmessage",level:2},{value:"plugins.ipc.onmessageread",id:"pluginsipconmessageread",level:2},{value:"plugins.ipc.onreply",id:"pluginsipconreply",level:2},{value:"plugins.ipc.onreplyread",id:"pluginsipconreplyread",level:2},{value:"plugins.ipc.reply",id:"pluginsipcreply",level:2},{value:"data",id:"data-1",level:3},{value:"id",id:"id-3",level:3},{value:"on_read",id:"on_read-1",level:3},{value:"replier",id:"replier",level:3},{value:"sender",id:"sender-1",level:3},{value:"timestamp",id:"timestamp-1",level:3},{value:"plugins.ipc.sendmessageoptions",id:"pluginsipcsendmessageoptions",level:2},{value:"data",id:"data-2",level:3},{value:"destinations",id:"destinations-1",level:3},{value:"on_read",id:"on_read-2",level:3},{value:"on_reply",id:"on_reply-1",level:3},{value:"plugins.ipc.vardecl",id:"pluginsipcvardecl",level:2},{value:"name",id:"name-1",level:3},{value:"optional",id:"optional",level:3},{value:"type",id:"type-1",level:3},{value:"current",id:"current",level:2},{value:"force_draw",id:"force_draw",level:2},{value:"__call",id:"__call",level:2},{value:"__tostring",id:"__tostring",level:2},{value:"call",id:"call",level:2},{value:"call_async",id:"call_async",level:2},{value:"extend",id:"extend",level:2},{value:"extends",id:"extends",level:2},{value:"get_instances",id:"get_instances",level:2},{value:"get_message",id:"get_message",level:2},{value:"get_primary_instance",id:"get_primary_instance",level:2},{value:"get_reply",id:"get_reply",level:2},{value:"is",id:"is",level:2},{value:"is_class_of",id:"is_class_of",level:2},{value:"is_extended_by",id:"is_extended_by",level:2},{value:"listen_message",id:"listen_message",level:2},{value:"listen_signal",id:"listen_signal",level:2},{value:"new",id:"new",level:2},{value:"read_messages",id:"read_messages",level:2},{value:"read_replies",id:"read_replies",level:2},{value:"register_method",id:"register_method",level:2},{value:"register_signal",id:"register_signal",level:2},{value:"remove_message",id:"remove_message",level:2},{value:"send_message",id:"send_message",level:2},{value:"signal",id:"signal",level:2},{value:"start",id:"start",level:2},{value:"stop",id:"stop",level:2},{value:"update_status",id:"update_status",level:2},{value:"wait_for_messages",id:"wait_for_messages",level:2},{value:"wait_for_replies",id:"wait_for_replies",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"pluginsipc",children:"plugins.ipc"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'local ipc = require "plugins.ipc"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"__index",children:"__index"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) __index: core.object\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"coroutine_key",children:"coroutine_key"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) coroutine_key: unknown\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"file",children:"file"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) file: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"id",children:"id"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) id: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"last_output",children:"last_output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) last_output: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"listeners",children:"listeners"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) listeners: table<string, table<integer, fun(message: plugins.ipc.message, reply: plugins.ipc.reply)|nil>>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"messages",children:"messages"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) messages: plugins.ipc.message[]\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"method_definitions",children:"method_definitions"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) method_definitions: table<integer, string>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"methods",children:"methods"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) methods: table<string, integer>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"next_update",children:"next_update"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) next_update: integer\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"position",children:"position"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) position: integer\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"primary",children:"primary"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) primary: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"replies",children:"replies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) replies: plugins.ipc.reply[]\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"running",children:"running"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) running: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"shmem",children:"shmem"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) shmem: shmem?\n"})}),"\n",(0,l.jsx)(n.p,{children:"Functionality that allows to share data between processes."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"signal_definitions",children:"signal_definitions"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) signal_definitions: table<integer, string>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"signals",children:"signals"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) signals: table<string, integer>\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"super",children:"super"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) super: core.object\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"user_dir",children:"user_dir"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) user_dir: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"configpluginsipc",children:"config.plugins.ipc"}),"\n",(0,l.jsxs)(n.p,{children:["Configuration options for ",(0,l.jsx)(n.code,{children:"ipc"})," plugin."]}),"\n",(0,l.jsx)(n.h3,{id:"dirs_instance",children:"dirs_instance"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'(field) dirs_instance: "add"|"change"|"new"\n'})}),"\n",(0,l.jsx)(n.p,{children:"Control how to open directories in single instance mode."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"single_instance",children:"single_instance"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) single_instance: boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Run a single instance of pragtical."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcfunction",children:"plugins.ipc.function"}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcinstance",children:"plugins.ipc.instance"}),"\n",(0,l.jsx)(n.h3,{id:"id-1",children:"id"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) id: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Process id of the instance."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"last_update",children:"last_update"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) last_update: integer\n"})}),"\n",(0,l.jsx)(n.p,{children:"Indicates the last time this instance updated its session file."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"messages-1",children:"messages"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) messages: plugins.ipc.message[]\n"})}),"\n",(0,l.jsx)(n.p,{children:"The messages been broadcasted."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"position-1",children:"position"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) position: integer\n"})}),"\n",(0,l.jsx)(n.p,{children:"The position in which the instance was launched."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"primary-1",children:"primary"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) primary: boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Flag that indicates if this instance was the first started."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"properties",children:"properties"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) properties: table\n"})}),"\n",(0,l.jsx)(n.p,{children:"Table of properties associated with the instance. (NOT IMPLEMENTED)"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"replies-1",children:"replies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) replies: plugins.ipc.reply[]\n"})}),"\n",(0,l.jsx)(n.p,{children:"The replies been broadcasted."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcmessage",children:"plugins.ipc.message"}),"\n",(0,l.jsx)(n.h3,{id:"data",children:"data"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) data: table<string, any>\n"})}),"\n",(0,l.jsx)(n.p,{children:"A list of named values sent to receivers."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"destinations",children:"destinations"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) destinations: table<integer, string>\n"})}),"\n",(0,l.jsx)(n.p,{children:"List with id of the instance that should receive the message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"id-2",children:"id"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) id: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Id of the message"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"name",children:"name"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) name: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Name of the message"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"on_read",children:"on_read"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) on_read: fun(message: plugins.ipc.message)|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Optional callback executed by the receiver when the message is read."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"on_reply",children:"on_reply"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) on_reply: fun(reply: plugins.ipc.reply)|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Optional callback executed when a reply to the message is received."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"replies-2",children:"replies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) replies: plugins.ipc.reply[]\n"})}),"\n",(0,l.jsx)(n.p,{children:"The received replies for the message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"sender",children:"sender"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) sender: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"The id of process that sent the message"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"timestamp",children:"timestamp"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) timestamp: number\n"})}),"\n",(0,l.jsx)(n.p,{children:"Time in seconds when the message was sent for automatic expiration purposes."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"type",children:"type"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'(field) type: string|"message"|"method"|"signal"\n'})}),"\n",(0,l.jsx)(n.p,{children:"Type of message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcmessagetype",children:"plugins.ipc.messagetype"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'plugins.ipc.messagetype:\n    | "message"\n    | "method"\n    | "signal"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipconmessage",children:"plugins.ipc.onmessage"}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipconmessageread",children:"plugins.ipc.onmessageread"}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipconreply",children:"plugins.ipc.onreply"}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipconreplyread",children:"plugins.ipc.onreplyread"}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcreply",children:"plugins.ipc.reply"}),"\n",(0,l.jsx)(n.h3,{id:"data-1",children:"data"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) data: table<string, any>\n"})}),"\n",(0,l.jsx)(n.p,{children:"A list of named values sent back to sender."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"id-3",children:"id"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) id: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Id of the message"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"on_read-1",children:"on_read"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) on_read: fun(reply: plugins.ipc.reply)|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Optional callback executed by the sender when the reply is read."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"replier",children:"replier"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) replier: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"The id of the replier"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"sender-1",children:"sender"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) sender: string\n"})}),"\n",(0,l.jsx)(n.p,{children:"The id of process that sent the message"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"timestamp-1",children:"timestamp"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) timestamp: number\n"})}),"\n",(0,l.jsx)(n.p,{children:"Time in seconds when the reply was sent for automatic expiration purposes."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcsendmessageoptions",children:"plugins.ipc.sendmessageoptions"}),"\n",(0,l.jsx)(n.h3,{id:"data-2",children:"data"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) data: table<string, any>\n"})}),"\n",(0,l.jsx)(n.p,{children:"Optional data given to the receiver."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"destinations-1",children:"destinations"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) destinations: string|table<integer, string>|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Id of the running instances to receive the message, if not set all running instances will receive the message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"on_read-2",children:"on_read"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) on_read: fun(message: plugins.ipc.message, reply: plugins.ipc.reply)|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Function executed by the message receiver."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"on_reply-1",children:"on_reply"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) on_reply: fun(reply: plugins.ipc.reply)|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Callback that allows monitoring all the replies received for this message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pluginsipcvardecl",children:"plugins.ipc.vardecl"}),"\n",(0,l.jsx)(n.h3,{id:"name-1",children:"name"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) name: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"optional",children:"optional"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) optional: boolean\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"type-1",children:"type"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) type: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"current",children:"current"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function plugins.ipc.current()\n  -> plugins.ipc\n"})}),"\n",(0,l.jsx)(n.p,{children:"Get the IPC session for the running pragtical instance."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"force_draw",children:"force_draw"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"function plugins.ipc.force_draw()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Tell the core to force a full redraw. Should be used when receiving signals\nthat execute draw operations while the window could be unfocused."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"__call",children:"__call"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__call(...any)\n  -> core.object\n"})}),"\n",(0,l.jsx)(n.p,{children:"Metamethod to allow using the object call as a constructor."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"__tostring",children:"__tostring"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__tostring()\n  -> string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Metamethod to get a string representation of an object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"call",children:"call"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:call(destinations: string|table<integer, string>|nil, name: string, ...any)\n  -> return_of_called_method: any\n"})}),"\n",(0,l.jsx)(n.p,{children:"Call a method on another instance and wait for reply."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"call_async",children:"call_async"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:call_async(destinations: string|table<integer, string>|nil, name: string, callback: fun(id: string, ret: table)|nil, ...any)\n  -> message_id: string|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Call a method on another instance asynchronously waiting for the replies."}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"callback"})," \u2014 Called with the returned values"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"extend",children:"extend"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extend()\n  -> core.object\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"extends",children:"extends"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extends(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the object inherits from the given type."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"get_instances",children:"get_instances"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:get_instances()\n  -> plugins.ipc.instance[]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Get a list of running pragtical instances."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"get_message",children:"get_message"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:get_message(message_id: string)\n  -> plugins.ipc.message|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Get a queued message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"get_primary_instance",children:"get_primary_instance"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:get_primary_instance()\n  -> string|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Retrieve the id of the primary instance if found."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"get_reply",children:"get_reply"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:get_reply(message_id: string)\n  -> plugins.ipc.reply|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Get the reply sent to a specific message."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is",children:"is"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the object is strictly of the given type."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_class_of",children:"is_class_of"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_class_of(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the parameter is strictly of the object type."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_extended_by",children:"is_extended_by"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_extended_by(T: any)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Check if the parameter inherits from the object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"listen_message",children:"listen_message"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'(method) plugins.ipc:listen_message(name: string, callback: fun(message: plugins.ipc.message, reply: plugins.ipc.reply)|nil, message_type?: "message"|"method"|"signal")\n  -> listener_position: integer\n'})}),"\n",(0,l.jsx)(n.p,{children:"Add a listener for a given type of message."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'message_type:\n    | "message"\n    | "method"\n    | "signal"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"listen_signal",children:"listen_signal"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:listen_signal(name: string, callback: fun(...any))\n  -> listener_position: integer\n"})}),"\n",(0,l.jsx)(n.p,{children:"Listen for a given signal."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"new",children:"new"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:new(id?: string)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Constructor"}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"id"})," \u2014 Defaults to current pragtical process id."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"read_messages",children:"read_messages"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:read_messages()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Verify all the messages sent by running instances, read those directed\nto the currently running instance and reply to them."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"read_replies",children:"read_replies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:read_replies()\n  -> plugins.ipc.reply[]|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Reads replies directed to messages sent by the currently running instance\nand if any returns them."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"register_method",children:"register_method"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:register_method(name: string, method: fun(...any), params?: plugins.ipc.vardecl[], returns?: plugins.ipc.vardecl[])\n"})}),"\n",(0,l.jsx)(n.p,{children:"Add a new method that can be invoked from other instances."}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"name"})," \u2014 A unique name for the method."]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"method"})," \u2014 Function invoked when the method is called."]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"params"})," \u2014 Parameters that are going to be passed into method."]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"returns"})," \u2014 Return values of the method."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"register_signal",children:"register_signal"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:register_signal(name: string, params?: plugins.ipc.vardecl[])\n"})}),"\n",(0,l.jsx)(n.p,{children:"Add a new signal that can be sent to other instances."}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"name"})," \u2014 A unique name for the signal."]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"params"})," \u2014 Parameters that are going to be passed into callback."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"remove_message",children:"remove_message"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:remove_message(message_id: string)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Remove a message from the queue."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"send_message",children:"send_message"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'(method) plugins.ipc:send_message(name: string, options?: plugins.ipc.sendmessageoptions, message_type?: "message"|"method"|"signal")\n  -> message_id: string|nil\n'})}),"\n",(0,l.jsx)(n.p,{children:"Queue a new message to be sent to other pragtical instances."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'message_type:\n    | "message"\n    | "method"\n    | "signal"\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"signal",children:"signal"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:signal(destinations: string|table<integer, string>|nil, name: string, ...any)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Broadcast a signal to running instances."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"start",children:"start"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:start()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Starts and registers the ipc session and monitoring."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"stop",children:"stop"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:stop()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Stop and unregister the ipc session and monitoring."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"update_status",children:"update_status"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:update_status()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Updates the session status of an IPC object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"wait_for_messages",children:"wait_for_messages"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:wait_for_messages()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Blocks execution of current instance to wait for all messages to\nbe replied to."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"wait_for_replies",children:"wait_for_replies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) plugins.ipc:wait_for_replies(message_id: string)\n  -> plugins.ipc.reply[]|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Blocks execution of current instance to wait for all replies by the\nspecified message and when finished returns them."}),"\n",(0,l.jsx)(n.hr,{})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);