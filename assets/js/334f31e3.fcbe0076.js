"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[298],{9082:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var i=l(5893),s=l(1151);const a={sidebar_position:49},d="plugins.settings",t={id:"api/plugins.settings",title:"plugins.settings",description:"config",source:"@site/docs/api/plugins.settings.md",sourceDirName:"api",slug:"/api/plugins.settings",permalink:"/docs/api/plugins.settings",draft:!1,unlisted:!1,editUrl:"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/plugins.settings.md",tags:[],version:"current",sidebarPosition:49,frontMatter:{sidebar_position:49},sidebar:"tutorialSidebar",previous:{title:"plugins.search_ui",permalink:"/docs/api/plugins.search_ui"},next:{title:"plugins.toolbarview",permalink:"/docs/api/plugins.toolbarview"}},r={},c=[{value:"config",id:"config",level:2},{value:"core",id:"core",level:2},{value:"default_keybindings",id:"default_keybindings",level:2},{value:"plugin_sections",id:"plugin_sections",level:2},{value:"plugins",id:"plugins",level:2},{value:"sections",id:"sections",level:2},{value:"type",id:"type",level:2},{value:"ui",id:"ui",level:2},{value:"settings.option",id:"settingsoption",level:2},{value:"default",id:"default",level:3},{value:"description",id:"description",level:3},{value:"exists",id:"exists",level:3},{value:"filters",id:"filters",level:3},{value:"font_error",id:"font_error",level:3},{value:"fonts_list",id:"fonts_list",level:3},{value:"get_value",id:"get_value",level:3},{value:"icon",id:"icon",level:3},{value:"label",id:"label",level:3},{value:"max",id:"max",level:3},{value:"min",id:"min",level:3},{value:"on_apply",id:"on_apply",level:3},{value:"on_click",id:"on_click",level:3},{value:"path",id:"path",level:3},{value:"set_value",id:"set_value",level:3},{value:"step",id:"step",level:3},{value:"type",id:"type-1",level:3},{value:"values",id:"values",level:3},{value:"settings.ui",id:"settingsui",level:2},{value:"about",id:"about",level:3},{value:"colors",id:"colors",level:3},{value:"core",id:"core-1",level:3},{value:"core_sections",id:"core_sections",level:3},{value:"defer_draw",id:"defer_draw",level:3},{value:"draggable",id:"draggable",level:3},{value:"keybinds",id:"keybinds",level:3},{value:"name",id:"name",level:3},{value:"notebook",id:"notebook",level:3},{value:"plugin_sections",id:"plugin_sections-1",level:3},{value:"plugins",id:"plugins-1",level:3},{value:"scrollable",id:"scrollable",level:3},{value:"disable_plugin",id:"disable_plugin",level:3},{value:"enable_plugin",id:"enable_plugin",level:3},{value:"load_color_settings",id:"load_color_settings",level:3},{value:"load_core_settings",id:"load_core_settings",level:3},{value:"load_keymap_settings",id:"load_keymap_settings",level:3},{value:"load_plugin_settings",id:"load_plugin_settings",level:3},{value:"new",id:"new",level:3},{value:"setup_about",id:"setup_about",level:3},{value:"update",id:"update",level:3},{value:"add",id:"add",level:2}];function o(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"pluginssettings",children:"plugins.settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:'local settings = require "plugins.settings"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"config",children:"config"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) config: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"core",children:"core"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) core: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"default_keybindings",children:"default_keybindings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) default_keybindings: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"plugin_sections",children:"plugin_sections"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) plugin_sections: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"plugins",children:"plugins"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) plugins: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"sections",children:"sections"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) sections: table\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"type",children:"type"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) type: table<string, integer>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Enumeration for the different types of settings."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ui",children:"ui"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) ui: settings.ui\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"settingsoption",children:"settings.option"}),"\n",(0,i.jsx)(n.p,{children:"Represents a setting to render on a settings pane."}),"\n",(0,i.jsx)(n.h3,{id:"default",children:"default"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) default: boolean|string|number|table<integer, integer>|table<integer, string>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Default value of the option"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"description",children:"description"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) description: string\n"})}),"\n",(0,i.jsx)(n.p,{children:'Description of the option eg: "Modifies the document indentation"'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"exists",children:"exists"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) exists: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"When FILE or DIRECTORY this flag tells the path should exist."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"filters",children:"filters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) filters: table<integer, string>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Lua patterns used on FILE or DIRECTORY to filter browser results and\nalso force the selection to match one of the filters."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"font_error",children:"font_error"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) font_error: boolean\n"})}),"\n",(0,i.jsx)(n.p,{children:"Flag set to true when loading user defined fonts fail"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"fonts_list",children:"fonts_list"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) fonts_list: table<string, renderer.font>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Optionally used for FONT to store the generated font group."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"get_value",children:"get_value"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) get_value: fun(value: any):any|nil\n"})}),"\n",(0,i.jsx)(n.p,{children:"Optional function that is used to manipulate the current value on retrieval."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"icon",children:"icon"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) icon: string\n"})}),"\n",(0,i.jsx)(n.p,{children:"The icon set for a BUTTON"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"label",children:"label"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) label: string\n"})}),"\n",(0,i.jsx)(n.p,{children:'Title displayed to the user eg: "My Option"'}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"max",children:"max"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) max: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used for NUMBER to indiciate the maximum number allowed"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"min",children:"min"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) min: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used for NUMBER to indicate the minimum number allowed"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"on_apply",children:"on_apply"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) on_apply: fun(value: any)|nil\n"})}),"\n",(0,i.jsx)(n.p,{children:"Optional function executed when the option value is applied."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"on_click",children:"on_click"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) on_click: string|fun(button: string, x: integer, y: integer)|nil\n"})}),"\n",(0,i.jsx)(n.p,{children:"Command or function executed when a BUTTON is clicked"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"path",children:"path"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) path: string\n"})}),"\n",(0,i.jsx)(n.p,{children:"Config path in the config table, eg: section.myoption, myoption, etc..."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"set_value",children:"set_value"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) set_value: fun(value: any):any|nil\n"})}),"\n",(0,i.jsx)(n.p,{children:"Optional function that is used to manipulate the saved value on save."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step",children:"step"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) step: number\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used for NUMBER to indiciate the increment/decrement amount"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"type-1",children:"type"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) type: integer|`settings.type.BUTTON`|`settings.type.COLOR`|`settings.type.DIRECTORY`|`settings.type.FILE`...(+6)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Type of option that will be used to render an appropriate control"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"values",children:"values"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) values: table\n"})}),"\n",(0,i.jsx)(n.p,{children:"Used in a SELECTION to provide the list of valid options"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"settingsui",children:"settings.ui"}),"\n",(0,i.jsx)(n.h3,{id:"about",children:"about"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) about: widget\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"colors",children:"colors"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) colors: widget\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"core-1",children:"core"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) core: widget\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"core_sections",children:"core_sections"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) core_sections: widget.foldingbook\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"defer_draw",children:"defer_draw"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) defer_draw: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"draggable",children:"draggable"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) draggable: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"keybinds",children:"keybinds"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) keybinds: widget\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"name",children:"name"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) name: string\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"notebook",children:"notebook"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) notebook: widget.notebook\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"plugin_sections-1",children:"plugin_sections"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) plugin_sections: widget.foldingbook\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"plugins-1",children:"plugins"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) plugins: widget\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"scrollable",children:"scrollable"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(field) scrollable: boolean\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"disable_plugin",children:"disable_plugin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:disable_plugin(plugin: string)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Unload a plugin settings from plugins section."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"enable_plugin",children:"enable_plugin"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:enable_plugin(plugin: string)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Load plugin and append its settings to the plugins section."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"load_color_settings",children:"load_color_settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:load_color_settings()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Generate the list of all available colors with preview"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"load_core_settings",children:"load_core_settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:load_core_settings()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Generate all the widgets for core settings."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"load_keymap_settings",children:"load_keymap_settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:load_keymap_settings()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Generate the list of all available commands and allow editing their keymaps."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"load_plugin_settings",children:"load_plugin_settings"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:load_plugin_settings()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Generate all the widgets for plugin settings."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"new",children:"new"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:new()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Constructor"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"setup_about",children:"setup_about"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:setup_about()\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"update",children:"update"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"(method) settings.ui:update()\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reposition and resize core and plugin widgets."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"add",children:"add"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-lua",children:"function plugins.settings.add(section: string, options: settings.option[], plugin_name?: string, overwrite?: boolean)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Add a new settings section to the settings UI"}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"plugin_name"})," \u2014 Optional name of plugin"]}),"\n",(0,i.jsxs)(n.p,{children:["@",(0,i.jsx)(n.em,{children:"param"})," ",(0,i.jsx)(n.code,{children:"overwrite"})," \u2014 Overwrite previous section options"]}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},1151:(e,n,l)=>{l.d(n,{Z:()=>t,a:()=>d});var i=l(7294);const s={},a=i.createContext(s);function d(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);