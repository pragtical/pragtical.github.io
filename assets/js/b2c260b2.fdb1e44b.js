"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6254],{16151:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"api/core.project","title":"core.project","description":"Core projects class.","source":"@site/docs/api/core.project.md","sourceDirName":"api","slug":"/api/core.project","permalink":"/docs/api/core.project","draft":false,"unlisted":false,"editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/core.project.md","tags":[],"version":"current","sidebarPosition":39,"frontMatter":{"sidebar_position":39},"sidebar":"tutorialSidebar","previous":{"title":"core.process","permalink":"/docs/api/core.process"},"next":{"title":"core.repl","permalink":"/docs/api/core.repl"}}');var l=s(74848),r=s(28453);const c={sidebar_position:39},t="core.project",a={},o=[{value:"__index",id:"__index",level:2},{value:"compiled",id:"compiled",level:2},{value:"name",id:"name",level:2},{value:"path",id:"path",level:2},{value:"super",id:"super",level:2},{value:"__call",id:"__call",level:2},{value:"__tostring",id:"__tostring",level:2},{value:"absolute_path",id:"absolute_path",level:2},{value:"compile_ignore_files",id:"compile_ignore_files",level:2},{value:"extend",id:"extend",level:2},{value:"extends",id:"extends",level:2},{value:"files",id:"files",level:2},{value:"get_file_info",id:"get_file_info",level:2},{value:"is",id:"is",level:2},{value:"is_class_of",id:"is_class_of",level:2},{value:"is_extended_by",id:"is_extended_by",level:2},{value:"new",id:"new",level:2},{value:"normalize_path",id:"normalize_path",level:2},{value:"path_belongs_to",id:"path_belongs_to",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"coreproject",children:"core.project"})}),"\n",(0,l.jsx)(n.p,{children:"Core projects class."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:'local project = require "core.project"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"__index",children:"__index"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) __index: core.object\n"})}),"\n",(0,l.jsx)(n.p,{children:"Base class providing OOP functionality for Lua.\nAll classes in Pragtical inherit from Object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"compiled",children:"compiled"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) compiled: table\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"name",children:"name"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) name: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"path",children:"path"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) path: string\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"super",children:"super"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(field) super: core.object\n"})}),"\n",(0,l.jsx)(n.p,{children:"Base class providing OOP functionality for Lua.\nAll classes in Pragtical inherit from Object."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"__call",children:"__call"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__call(...any)\n  -> obj: core.object\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Metamethod allowing class to be called like a constructor.\nEnables syntax: ",(0,l.jsx)(n.code,{children:"local obj = MyClass(args)"})," instead of ",(0,l.jsx)(n.code,{children:"MyClass:new(args)"}),"\nAutomatically creates instance and calls new() with provided arguments."]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"obj"})," \u2014 The new instance of the class"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"__tostring",children:"__tostring"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__tostring()\n  -> str: string\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Get string representation of the object (for debugging/logging).\nOverride in subclasses to provide meaningful names.\nExample: ",(0,l.jsx)(n.code,{children:'function MyClass:__tostring() return "MyClass" end'})]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"str"}),' \u2014 String representation (default: "Object")']}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"absolute_path",children:"absolute_path"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:absolute_path(filename: string)\n  -> string|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"The method works like system.absolute_path except it doesn't fail if the\nfile does not exist. We consider that the current dir is core.project_dir\nso relative filename are considered to be in core.project_dir."}),"\n",(0,l.jsx)(n.p,{children:"Please note that .. or . in the filename are not taken into account.\nThis function should get only filenames normalized using\ncommon.normalize_path function."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"compile_ignore_files",children:"compile_ignore_files"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:compile_ignore_files()\n"})}),"\n",(0,l.jsx)(n.p,{children:"Inspect config.ignore_files patterns and prepare ready to use entries."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"extend",children:"extend"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extend()\n  -> cls: core.object\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Create a new class that inherits from this one.\nReturns a new class with this class as its parent.\nExample: ",(0,l.jsx)(n.code,{children:"local MyClass = Object:extend()"})]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"cls"})," \u2014 The new class table"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"extends",children:"extends"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extends(T: any)\n  -> extends: boolean\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Check if object inherits from the given type (inheritance-aware).\nUse this to check class hierarchy.\nExample: ",(0,l.jsx)(n.code,{children:"view:extends(View)"})," returns true for View and all subclasses"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"T"})," \u2014 Class to check inheritance from"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"extends"})," \u2014 True if object is T or inherits from T"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"files",children:"files"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:files()\n  -> fun():core.project, string\n"})}),"\n",(0,l.jsx)(n.p,{children:"Returns iterator of all project files."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"get_file_info",children:"get_file_info"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:get_file_info(path: string)\n  -> system.fileinfo|false\n"})}),"\n",(0,l.jsx)(n.p,{children:"Compute a file's info entry completed with \"filename\" to be used\nin project scan or false if it shouldn't appear in the list."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"-- \nreturn #1:\n    | false\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is",children:"is"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is(T: any)\n  -> is_exact: boolean\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Check if object is exactly of the given type (no inheritance check).\nUse this for strict type matching.\nExample: ",(0,l.jsx)(n.code,{children:"view:is(DocView)"})," returns true only if view is a DocView, not a subclass"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"T"})," \u2014 Class to check against"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"is_exact"})," \u2014 True if object is exactly type T"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_class_of",children:"is_class_of"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_class_of(T: any)\n  -> is_instance: boolean\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Check if the given object is exactly an instance of this class.\nInverse of is() - checks if T is an instance of self.\nExample: ",(0,l.jsx)(n.code,{children:"DocView:is_class_of(obj)"})," checks if obj is exactly a DocView"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"T"})," \u2014 Object to check"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"is_instance"})," \u2014 True if T is exactly an instance of this class"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"is_extended_by",children:"is_extended_by"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_extended_by(T: any)\n  -> is_extended: boolean\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Check if the given object/class inherits from this class.\nInverse of extends() - checks if T is a subclass of self.\nExample: ",(0,l.jsx)(n.code,{children:"View:is_extended_by(DocView)"})," checks if DocView inherits from View"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"param"})," ",(0,l.jsx)(n.code,{children:"T"})," \u2014 Object or class to check"]}),"\n",(0,l.jsxs)(n.p,{children:["@",(0,l.jsx)(n.em,{children:"return"})," ",(0,l.jsx)(n.code,{children:"is_extended"})," \u2014 True if T inherits from this class"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"new",children:"new"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:new(path: any)\n"})}),"\n",(0,l.jsx)(n.p,{children:"Constructor"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"normalize_path",children:"normalize_path"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:normalize_path(filename: string|nil)\n  -> string|nil\n"})}),"\n",(0,l.jsx)(n.p,{children:"Same as common.normalize_path() with the addition of making the filename\nrelative when it belongs to the project."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"path_belongs_to",children:"path_belongs_to"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lua",children:"(method) core.project:path_belongs_to(path: string)\n  -> boolean\n"})}),"\n",(0,l.jsx)(n.p,{children:"Checks if the given path belongs to the project."}),"\n",(0,l.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var i=s(96540);const l={},r=i.createContext(l);function c(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);