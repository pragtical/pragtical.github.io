"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6894],{28453:(e,n,l)=>{l.d(n,{R:()=>a,x:()=>c});var i=l(96540);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}},48553:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"api/plugins.autocomplete","title":"plugins.autocomplete","description":"icons","source":"@site/docs/api/plugins.autocomplete.md","sourceDirName":"api","slug":"/api/plugins.autocomplete","permalink":"/docs/api/plugins.autocomplete","draft":false,"unlisted":false,"editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/plugins.autocomplete.md","tags":[],"version":"current","sidebarPosition":44,"frontMatter":{"sidebar_position":44},"sidebar":"tutorialSidebar","previous":{"title":"core.view","permalink":"/docs/api/core.view"},"next":{"title":"plugins.autoreload","permalink":"/docs/api/plugins.autoreload"}}');var s=l(74848),o=l(28453);const a={sidebar_position:44},c="plugins.autocomplete",t={},d=[{value:"icons",id:"icons",level:2},{value:"map_manually",id:"map_manually",level:2},{value:"on_close",id:"on_close",level:2},{value:"config.plugins.autocomplete",id:"configpluginsautocomplete",level:2},{value:"desc_font_size",id:"desc_font_size",level:3},{value:"hide_icons",id:"hide_icons",level:3},{value:"hide_info",id:"hide_info",level:3},{value:"icon_position",id:"icon_position",level:3},{value:"max_height",id:"max_height",level:3},{value:"max_suggestions",id:"max_suggestions",level:3},{value:"max_symbols",id:"max_symbols",level:3},{value:"min_len",id:"min_len",level:3},{value:"suggestions_scope",id:"suggestions_scope",level:3},{value:"plugins.autocomplete.cachedata",id:"pluginsautocompletecachedata",level:2},{value:"last_change_id",id:"last_change_id",level:3},{value:"symbols",id:"symbols",level:3},{value:"plugins.autocomplete.icon",id:"pluginsautocompleteicon",level:2},{value:"char",id:"char",level:3},{value:"color",id:"color",level:3},{value:"font",id:"font",level:3},{value:"plugins.autocomplete.map",id:"pluginsautocompletemap",level:2},{value:"files",id:"files",level:3},{value:"items",id:"items",level:3},{value:"plugins.autocomplete.symbolinfo",id:"pluginsautocompletesymbolinfo",level:2},{value:"data",id:"data",level:3},{value:"desc",id:"desc",level:3},{value:"icon",id:"icon",level:3},{value:"info",id:"info",level:3},{value:"onhover",id:"onhover",level:3},{value:"onselect",id:"onselect",level:3},{value:"text",id:"text",level:3},{value:"plugins.autocomplete.symbols",id:"pluginsautocompletesymbols",level:2},{value:"files",id:"files-1",level:3},{value:"items",id:"items-1",level:3},{value:"name",id:"name",level:3},{value:"add",id:"add",level:2},{value:"add_icon",id:"add_icon",level:2},{value:"can_complete",id:"can_complete",level:2},{value:"close",id:"close",level:2},{value:"complete",id:"complete",level:2},{value:"get_partial_symbol",id:"get_partial_symbol",level:2},{value:"is_open",id:"is_open",level:2},{value:"open",id:"open",level:2}];function r(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"pluginsautocomplete",children:"plugins.autocomplete"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'local autocomplete = require "plugins.autocomplete"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"icons",children:"icons"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) icons: table<string, plugins.autocomplete.icon>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"map_manually",children:"map_manually"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) map_manually: table<string, plugins.autocomplete.map>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"on_close",children:"on_close"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) on_close: fun(doc: core.doc, item: plugins.autocomplete.symbolinfo)|nil\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"configpluginsautocomplete",children:"config.plugins.autocomplete"}),"\n",(0,s.jsxs)(n.p,{children:["Configuration options for ",(0,s.jsx)(n.code,{children:"autocomplete"})," plugin."]}),"\n",(0,s.jsx)(n.h3,{id:"desc_font_size",children:"desc_font_size"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) desc_font_size: number\n"})}),"\n",(0,s.jsx)(n.p,{children:"Font size of the description box"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"hide_icons",children:"hide_icons"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) hide_icons: boolean\n"})}),"\n",(0,s.jsx)(n.p,{children:"Do not show the icons associated to the suggestions"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"hide_info",children:"hide_info"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) hide_info: boolean\n"})}),"\n",(0,s.jsx)(n.p,{children:"Do not show the additional information related to a suggestion"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"icon_position",children:"icon_position"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'(field) icon_position: "left"|"right"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Position where icons will be displayed on the suggestions list"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"max_height",children:"max_height"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) max_height: integer\n"})}),"\n",(0,s.jsx)(n.p,{children:"The max amount of visible items"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"max_suggestions",children:"max_suggestions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) max_suggestions: integer\n"})}),"\n",(0,s.jsx)(n.p,{children:"The max amount of scrollable items"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"max_symbols",children:"max_symbols"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) max_symbols: integer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Maximum amount of symbols to cache per document"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"min_len",children:"min_len"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) min_len: integer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Amount of characters that need to be written for autocomplete"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"suggestions_scope",children:"suggestions_scope"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'(field) suggestions_scope: "global"|"local"|"none"|"related"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Which symbols to show on the suggestions list: global, local, related, none"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"pluginsautocompletecachedata",children:"plugins.autocomplete.cachedata"}),"\n",(0,s.jsx)(n.h3,{id:"last_change_id",children:"last_change_id"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) last_change_id: number\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"symbols",children:"symbols"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) symbols: table<string, boolean>\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"pluginsautocompleteicon",children:"plugins.autocomplete.icon"}),"\n",(0,s.jsx)(n.h3,{id:"char",children:"char"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) char: string\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"color",children:"color"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) color: string|renderer.color\n"})}),"\n",(0,s.jsx)(n.p,{children:"Array of bytes that represents a color used by the rendering functions."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"font",children:"font"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) font: renderer.font\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"pluginsautocompletemap",children:"plugins.autocomplete.map"}),"\n",(0,s.jsx)(n.h3,{id:"files",children:"files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) files: string|table<integer, string>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Lua patterns which match the files where the symbols are valid."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"items",children:"items"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) items: table<string, plugins.autocomplete.symbolinfo>\n"})}),"\n",(0,s.jsx)(n.p,{children:"List of symbols that belong to this symbols table."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"pluginsautocompletesymbolinfo",children:"plugins.autocomplete.symbolinfo"}),"\n",(0,s.jsx)(n.h3,{id:"data",children:"data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) data: any\n"})}),"\n",(0,s.jsx)(n.p,{children:"Optional data that can be used for onhover and onselect callbacks."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"desc",children:"desc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) desc: string?\n"})}),"\n",(0,s.jsx)(n.p,{children:"Description shown when the symbol is hovered on the autocomplete box."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"icon",children:"icon"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) icon: string?\n"})}),"\n",(0,s.jsx)(n.p,{children:"Name of a registered icon."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"info",children:"info"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) info: string?\n"})}),"\n",(0,s.jsx)(n.p,{children:"Additional information displayed on autocomplete box, eg: item type."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"onhover",children:"onhover"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) onhover: fun(idx: integer, item: plugins.autocomplete.symbolinfo)?\n"})}),"\n",(0,s.jsx)(n.p,{children:"An optional callback called once when the symbol is hovered."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"onselect",children:"onselect"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) onselect: (fun(idx: integer, item: plugins.autocomplete.symbolinfo):boolean)?\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"text",children:"text"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) text: string\n"})}),"\n",(0,s.jsx)(n.p,{children:"Text value of the symbol displayed on the autocomplete box."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"pluginsautocompletesymbols",children:"plugins.autocomplete.symbols"}),"\n",(0,s.jsx)(n.h3,{id:"files-1",children:"files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) files: string|table<integer, string>\n"})}),"\n",(0,s.jsx)(n.p,{children:"Lua patterns which match the files where the symbols are valid."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"items-1",children:"items"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) items: table<string, string|plugins.autocomplete.symbolinfo|false|nil>\n"})}),"\n",(0,s.jsx)(n.p,{children:"List of symbols that belong to this symbols table."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"name",children:"name"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"(field) name: string\n"})}),"\n",(0,s.jsx)(n.p,{children:"Name of the symbols table."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"add",children:"add"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.add(t: plugins.autocomplete.symbols, manually_triggered?: boolean)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Register a symbols table used for autocompletion."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"add_icon",children:"add_icon"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.add_icon(name: string, character: string, font?: renderer.font, color?: string|renderer.color)\n"})}),"\n",(0,s.jsx)(n.p,{children:"Register a font icon that can be assigned to completion items."}),"\n",(0,s.jsxs)(n.p,{children:["@",(0,s.jsx)(n.em,{children:"param"})," ",(0,s.jsx)(n.code,{children:"color"})," \u2014 A style.syntax[] name or specific color"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"can_complete",children:"can_complete"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.can_complete()\n  -> boolean\n"})}),"\n",(0,s.jsx)(n.p,{children:"Check if autocomplete can be triggered by checking if current\npartial symbol meets the required minimum autocompletion len."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"close",children:"close"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.close()\n"})}),"\n",(0,s.jsx)(n.p,{children:"Manually close the completions list."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"complete",children:"complete"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.complete(completions: plugins.autocomplete.symbols, on_close?: fun(doc: core.doc, item: plugins.autocomplete.symbolinfo))\n"})}),"\n",(0,s.jsx)(n.p,{children:"Manually invoke the completion list using the provided symbols."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"get_partial_symbol",children:"get_partial_symbol"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.get_partial_symbol()\n  -> partial: string\n  2. line1: integer\n  3. col1: integer\n  4. line2: integer\n  5. col2: integer\n"})}),"\n",(0,s.jsx)(n.p,{children:"Retrieve the current document partial symbol."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"is_open",children:"is_open"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.is_open()\n  -> boolean\n"})}),"\n",(0,s.jsx)(n.p,{children:"Check if the completion lists is visible."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"open",children:"open"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"function plugins.autocomplete.open(on_close?: fun(doc: core.doc, item: plugins.autocomplete.symbolinfo))\n"})}),"\n",(0,s.jsx)(n.p,{children:"Manually invoke the completion list using already registered symbols."}),"\n",(0,s.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}}}]);