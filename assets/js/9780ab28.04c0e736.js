"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9596],{1913:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var i=t(6713),s=t(74848),a=t(28453);const r={slug:"pragtical-v382-release",title:"Pragtical v3.8.2 Release",authors:"jgmdev"},l=void 0,o={authorsImageUrls:[void 0]},c=[{value:"Views State Support",id:"views-state-support",level:2},{value:"Image Loading Improvements",id:"image-loading-improvements",level:2},{value:"UI Improvements",id:"ui-improvements",level:2},{value:"Additional Improvements",id:"additional-improvements",level:2},{value:"Changes Log",id:"changes-log",level:2},{value:"New Features",id:"new-features",level:3},{value:"Enhancements",id:"enhancements",level:3},{value:"UI Enhancements",id:"ui-enhancements",level:3},{value:"Fixes",id:"fixes",level:3},{value:"Build System",id:"build-system",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Another month, another release accompanied with the usual bug fixes, additional\nenhancements and CI build system improvements. Salted with a pinch of\nnew features in order to keep the flavor going on!"}),"\n",(0,s.jsx)(n.h2,{id:"views-state-support",children:"Views State Support"}),"\n",(0,s.jsx)(n.p,{children:"This release adds support for saving and loading a View state explicitly,\nallowing to properly load them on subsequent editor launches. This change\nintroduces the following new methods that can be implemented by child\nViews to enable state restoration on next session load:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"---Serialize this view into a persistable state table.\n---\n---This method is called when the editor is saving workspace/session state.\n---The returned table must contain only plain Lua data (no functions,\n---userdata, metatables, or cyclic references).\n---\n---Returning `nil` indicates that this view should NOT be restored when\n---reloading the workspace.\n---\n---@return table? state\nfunction View:get_state()\n  return nil\nend\n\n---Create and initialize a new view instance from a previously saved state.\n---\n---This function is called when restoring workspace/session state.\n---Implementations are responsible for:\n---  * creating the view instance\n---  * applying any persisted state\n---\n---If loading the instance failed nil will be returned.\n---\n---@param state table\n---@return core.view? view\nfunction View.from_state(state)\n  return nil\nend\n"})}),"\n",(0,s.jsx)(n.p,{children:"These functionality was implemented on DocView and ImageView."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Views that do not provide implementation of these methods will no longer be\nautomatically reloaded on subsequent editor launches."})}),"\n",(0,s.jsxs)(n.p,{children:["Another new method is ",(0,s.jsx)(n.code,{children:"View:get_module()"})," which allows to easily fetch the\nmodule associated to the current View child:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'---Returns the module path of this view.\n---\n---This method resolves the Lua module name that loaded the concrete view\n---class (for example `"core.view"`).\n---\n---If the view class cannot be associated with any loaded module, `nil`\n---is returned.\n---\n---@return string? path\nfunction View:get_module() end\n'})}),"\n",(0,s.jsx)(n.h2,{id:"image-loading-improvements",children:"Image Loading Improvements"}),"\n",(0,s.jsx)(n.p,{children:"A new function was added to more easily allow opening images on the viewer and\ntext files on the document viewer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:"---Opens the given file path in the root view.\n---If the given file is a supported image, it will open it in the image viewer;\n---otherwise, it will open it as a normal text file.\n---@param filename string Path to the file to open\n---@return core.imageview|core.docview\nfunction core.open_file(filename) end\n"})}),"\n",(0,s.jsx)(n.p,{children:"This function is now been use on find files plugin and other places that need\nto load files into the editor."}),"\n",(0,s.jsxs)(n.p,{children:["Also thanks to ",(0,s.jsx)(n.a,{href:"https://github.com/tacf",children:"tacf"})," xpm joins svg as one of the image\nformats that is allowed to be opened as a text file from within the TreeView."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/977db19b-583d-47de-ba67-1bc24eb93a2e",alt:"open in editor"})}),"\n",(0,s.jsx)(n.h2,{id:"ui-improvements",children:"UI Improvements"}),"\n",(0,s.jsxs)(n.p,{children:["Thanks to ",(0,s.jsx)(n.a,{href:"https://github.com/juliardi",children:"juliardi"})," (the evangelist) a button was\nadded to the toolbar and settings plugins tab to more easily access the plugin manager:"]}),"\n",(0,s.jsx)("video",{muted:!0,style:{width:"100%"},controls:!0,children:(0,s.jsx)("source",{src:"https://github.com/user-attachments/assets/3ab7b45f-93bb-4fd9-b69a-b16afce59211"})}),"\n",(0,s.jsx)(n.p,{children:"The scale plugin now keeps previous scale factor on editor restart and even\non sub-instances launched thru main editor since an internal environment\nvariable is been use for this purpose."}),"\n",(0,s.jsx)(n.p,{children:"Also, the renderer cache cell size was reduced to improve detection of dirty\nregions, the code related to this change was documented and re-arranged\nfor clearness and the convenience of future contributors."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Before"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"#define RENCACHE_CELLS_X 80\n#define RENCACHE_CELLS_Y 50\n#define RENCACHE_CELL_SIZE 96\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/7e2ce9c5-ede8-41ea-a487-42b829831483",alt:"before cell size"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"After"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:"/* These values represent the maximum size that can be tracked by rencache\n   7680x4320 = 8k resolution, we use a common divisor for the size of regions\n   that will be dirty checked.\n*/\n#define RENCACHE_CELL_SIZE 60 /* common divisor of width and height */\n#define RENCACHE_CELLS_X (7680 / RENCACHE_CELL_SIZE) /* 128 cells */\n#define RENCACHE_CELLS_Y (4320 / RENCACHE_CELL_SIZE) /* 72 cells */\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/7fb0fad1-1c03-46f9-882e-b2eac0be47f1",alt:"after cell size"})}),"\n",(0,s.jsx)(n.p,{children:"Two new variants of monokai were introduced:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["monokai-pro - thanks to ",(0,s.jsx)(n.a,{href:"https://github.com/suxragi",children:"suxragi"})]}),"\n",(0,s.jsx)(n.li,{children:"monokai-varied - forgot who gave me this one, thank you too!"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"additional-improvements",children:"Additional Improvements"}),"\n",(0,s.jsxs)(n.p,{children:["More Lua doc comments were added thanks to ",(0,s.jsx)(n.a,{href:"https://github.com/AmerM137",children:"Amer"}),"\nwhich allows better LSP code completion when working with the editor source\ncode as better generation of the ",(0,s.jsx)(n.a,{href:"https://pragtical.dev/docs/category/api",children:"API reference"}),"\nexposed on the website."]}),"\n",(0,s.jsxs)(n.p,{children:["Also, Thanks to our testing ",(0,s.jsx)(n.a,{href:"https://github.com/AmerM137",children:"Ninja"})," the following\nbugs where corrected:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Wrong scale factor detection on Windows"}),"\n",(0,s.jsx)(n.li,{children:"EmptyView widgets not properly positioned when transitions are turned off."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Fixed a documentation bug on DirMonitor thanks to ",(0,s.jsx)(n.a,{href:"https://github.com/walkero-gr",children:"Walkero"}),",\nalso proper cleaning of watched directories on backends like kqueue."]}),"\n",(0,s.jsxs)(n.p,{children:["Correction to the context menu sizing on 4K displays thanks also to\n",(0,s.jsx)(n.a,{href:"https://github.com/tacf",children:"tacf"}),":"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Before"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/837cf738-d4c6-46ef-9a41-29f202118276",alt:"before context menu 1"}),"\n",(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/976b876d-e750-4ce1-a5a1-abb5ad2b0d9a",alt:"before context menu 2"}),"\n",(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/cf85f0e2-e0df-4dfa-b899-4e09ca00055a",alt:"before context menu 3"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"After"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/3f556e16-7224-4671-ad10-99b0037af0be",alt:"after context menu 1"}),"\n",(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/cd1979c2-d6dd-4c2d-a147-9cb6ec29fddf",alt:"after context menu 2"}),"\n",(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/21e08cc6-5eb6-4c7d-a589-854c72693ae8",alt:"after context menu 3"})]}),"\n",(0,s.jsxs)(n.p,{children:["On the build/CI system front, now the generated profiler guided optimizations\nare been really used on clang builds AKA macOS builds, so crossing fingers and\nhoping that now it works xD. Other optimizations were done to the CI like\ndefaulting to optimization level 3, installation of additional LuaJIT modules\nand building of LuaJIT in amalgamation mode. Also, sdl and sdl_image were\nupdated both to v3.4.0, finally, the CI Linux AArch64 builds will require glibc\nversion 2.29 since the newer dependency versions introduced a requirement on\n",(0,s.jsx)(n.code,{children:"posix_spawn_file_actions_addchdir_np"})," for this architecture."]}),"\n",(0,s.jsx)(n.p,{children:"Other fixes and improvements on the changes log below, enjoy!"}),"\n",(0,s.jsxs)(n.p,{children:["Downloads on ",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/releases/tag/v3.8.2",children:"GitHub"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"changes-log",children:"Changes Log"}),"\n",(0,s.jsx)(n.h3,{id:"new-features",children:"New Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add view state save/load support\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/409",children:"#409"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"enhancements",children:"Enhancements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Documentation\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/396",children:"#396"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open images in viewer from open file operations\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/403",children:"#403"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["core.step: deprioritize only the mousemove event\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/407",children:"#407"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add xpm as additional open as text format\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/410",children:"#410"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"ui-enhancements",children:"UI Enhancements"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["scale plugin: keep current scale state on restart\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/401",children:"#401"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Reduce rencache cell size for better dirty detect\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/405",children:"#405"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["add button for opening plugin manager from settings and toolbarview\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/408",children:"#408"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Made plugin manager button more subtle on settings ui\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/commit/40b0287e333dafe95d028531d7c33d68b7aa6f34",children:"40b0287e"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"fixes",children:"Fixes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["common.dirname: treat leading / as directory name\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/400",children:"#400"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Reorder current/default scales on get_display_info\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/402",children:"#402"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["EmptyView: re-update childs on size/pos changes\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/404",children:"#404"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["DirMonitor: fix doc comment error\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/406",children:"#406"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["fix: context menu not properly sized\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/411",children:"#411"}),")"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"build-system",children:"Build System"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["CI: really use profiler data when compiling with clang\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/commit/30c734abd630d188ff98fb19ea5d208ee2c15b64",children:"30c734ab"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["CI: always use optimization level 3\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/commit/ac6395f8a10683c08feba611bb327207d624812e",children:"ac6395f8"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Build luajit subproject in amalgamation mode.\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/390",children:"#390"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["LuaJIT subproject: install additional lua modules\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/391",children:"#391"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Update colors subproject for more monokai variations\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/392",children:"#392"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Update SDL and SDL_image to v3.4.0\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/pull/413",children:"#413"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["CI: fix polyfill-glibc on Linux AArch64 (bumps required glibc to v2.29)\n(",(0,s.jsx)(n.a,{href:"https://github.com/pragtical/pragtical/commit/ed651cea3acf58d1ec8863f88276895ffd70e484",children:"ed651cea"}),")"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},6713:e=>{e.exports=JSON.parse('{"permalink":"/blog/pragtical-v382-release","editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/blog/2026-01-24-v382-release.md","source":"@site/blog/2026-01-24-v382-release.md","title":"Pragtical v3.8.2 Release","description":"Another month, another release accompanied with the usual bug fixes, additional","date":"2026-01-24T00:00:00.000Z","tags":[],"readingTime":6.32,"hasTruncateMarker":true,"authors":[{"name":"Jefferson Gonzalez","title":"Contributor of Pragtical","url":"https://github.com/jgmdev","socials":{"github":"https://github.com/jgmdev"},"imageURL":"https://github.com/jgmdev.png","key":"jgmdev","page":null}],"frontMatter":{"slug":"pragtical-v382-release","title":"Pragtical v3.8.2 Release","authors":"jgmdev"},"unlisted":false,"nextItem":{"title":"Pragtical v3.8.1 Release","permalink":"/blog/pragtical-v381-release"}}')},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);