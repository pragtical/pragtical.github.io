"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4444],{18934:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"api/widget.fonts.cache","title":"widget.fonts.cache","description":"index","source":"@site/docs/api/widget.fonts.cache.md","sourceDirName":"api","slug":"/api/widget.fonts.cache","permalink":"/docs/api/widget.fonts.cache","draft":false,"unlisted":false,"editUrl":"https://github.com/pragtical/pragtical.github.io/edit/main/docs/api/widget.fonts.cache.md","tags":[],"version":"current","sidebarPosition":76,"frontMatter":{"sidebar_position":76},"sidebar":"tutorialSidebar","previous":{"title":"widget.fonts","permalink":"/docs/api/widget.fonts"},"next":{"title":"widget.fonts.info","permalink":"/docs/api/widget.fonts.info"}}');var c=s(74848),l=s(28453);const d={sidebar_position:76},a="widget.fonts.cache",r={},o=[{value:"__index",id:"__index",level:2},{value:"building",id:"building",level:2},{value:"fontdirs",id:"fontdirs",level:2},{value:"fontinfo",id:"fontinfo",level:2},{value:"fonts",id:"fonts",level:2},{value:"found",id:"found",level:2},{value:"found_monospaced",id:"found_monospaced",level:2},{value:"loaded_fonts",id:"loaded_fonts",level:2},{value:"monospaced",id:"monospaced",level:2},{value:"monosppaced",id:"monosppaced",level:2},{value:"searching_monospaced",id:"searching_monospaced",level:2},{value:"super",id:"super",level:2},{value:"__call",id:"__call",level:2},{value:"__tostring",id:"__tostring",level:2},{value:"build",id:"build",level:2},{value:"extend",id:"extend",level:2},{value:"extends",id:"extends",level:2},{value:"is",id:"is",level:2},{value:"is_building",id:"is_building",level:2},{value:"is_class_of",id:"is_class_of",level:2},{value:"is_extended_by",id:"is_extended_by",level:2},{value:"load_cache",id:"load_cache",level:2},{value:"new",id:"new",level:2},{value:"rebuild",id:"rebuild",level:2},{value:"save_cache",id:"save_cache",level:2},{value:"scan_dir",id:"scan_dir",level:2},{value:"search",id:"search",level:2},{value:"verify_monospaced",id:"verify_monospaced",level:2}];function t(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"widgetfontscache",children:"widget.fonts.cache"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:'local cache = require "widget.fonts.cache"\n'})}),"\n",(0,c.jsx)(n.h2,{id:"__index",children:"__index"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) __index: core.object\n"})}),"\n",(0,c.jsx)(n.p,{children:"Base class providing OOP functionality for Lua.\nAll classes in Pragtical inherit from Object."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"building",children:"building"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) building: boolean\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"fontdirs",children:"fontdirs"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) fontdirs: table<integer, string>\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"fontinfo",children:"fontinfo"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) fontinfo: widget.fonts.info\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"fonts",children:"fonts"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) fonts: widget.fonts.data[]\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"found",children:"found"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) found: integer\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"found_monospaced",children:"found_monospaced"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) found_monospaced: integer\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"loaded_fonts",children:"loaded_fonts"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) loaded_fonts: table\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"monospaced",children:"monospaced"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) monospaced: boolean\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"monosppaced",children:"monosppaced"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) monosppaced: boolean\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"searching_monospaced",children:"searching_monospaced"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) searching_monospaced: boolean\n"})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"super",children:"super"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(field) super: core.object\n"})}),"\n",(0,c.jsx)(n.p,{children:"Base class providing OOP functionality for Lua.\nAll classes in Pragtical inherit from Object."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"__call",children:"__call"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__call(...any)\n  -> obj: core.object\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Metamethod allowing class to be called like a constructor.\nEnables syntax: ",(0,c.jsx)(n.code,{children:"local obj = MyClass(args)"})," instead of ",(0,c.jsx)(n.code,{children:"MyClass:new(args)"}),"\nAutomatically creates instance and calls new() with provided arguments."]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"obj"})," \u2014 The new instance of the class"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"__tostring",children:"__tostring"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:__tostring()\n  -> str: string\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Get string representation of the object (for debugging/logging).\nOverride in subclasses to provide meaningful names.\nExample: ",(0,c.jsx)(n.code,{children:'function MyClass:__tostring() return "MyClass" end'})]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"str"}),' \u2014 String representation (default: "Object")']}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"build",children:"build"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:build()\n  -> started: boolean\n"})}),"\n",(0,c.jsx)(n.p,{children:"Build the font cache and save it."}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"started"})," \u2014 False if cache is already been built"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"extend",children:"extend"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extend()\n  -> cls: core.object\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Create a new class that inherits from this one.\nReturns a new class with this class as its parent.\nExample: ",(0,c.jsx)(n.code,{children:"local MyClass = Object:extend()"})]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"cls"})," \u2014 The new class table"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"extends",children:"extends"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:extends(T: any)\n  -> extends: boolean\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Check if object inherits from the given type (inheritance-aware).\nUse this to check class hierarchy.\nExample: ",(0,c.jsx)(n.code,{children:"view:extends(View)"})," returns true for View and all subclasses"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"param"})," ",(0,c.jsx)(n.code,{children:"T"})," \u2014 Class to check inheritance from"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"extends"})," \u2014 True if object is T or inherits from T"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"is",children:"is"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is(T: any)\n  -> is_exact: boolean\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Check if object is exactly of the given type (no inheritance check).\nUse this for strict type matching.\nExample: ",(0,c.jsx)(n.code,{children:"view:is(DocView)"})," returns true only if view is a DocView, not a subclass"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"param"})," ",(0,c.jsx)(n.code,{children:"T"})," \u2014 Class to check against"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"is_exact"})," \u2014 True if object is exactly type T"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"is_building",children:"is_building"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:is_building()\n  -> building: boolean\n"})}),"\n",(0,c.jsx)(n.p,{children:"Check if the cache is already building."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"is_class_of",children:"is_class_of"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_class_of(T: any)\n  -> is_instance: boolean\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Check if the given object is exactly an instance of this class.\nInverse of is() - checks if T is an instance of self.\nExample: ",(0,c.jsx)(n.code,{children:"DocView:is_class_of(obj)"})," checks if obj is exactly a DocView"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"param"})," ",(0,c.jsx)(n.code,{children:"T"})," \u2014 Object to check"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"is_instance"})," \u2014 True if T is exactly an instance of this class"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"is_extended_by",children:"is_extended_by"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) core.object:is_extended_by(T: any)\n  -> is_extended: boolean\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Check if the given object/class inherits from this class.\nInverse of extends() - checks if T is a subclass of self.\nExample: ",(0,c.jsx)(n.code,{children:"View:is_extended_by(DocView)"})," checks if DocView inherits from View"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"param"})," ",(0,c.jsx)(n.code,{children:"T"})," \u2014 Object or class to check"]}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"is_extended"})," \u2014 True if T inherits from this class"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"load_cache",children:"load_cache"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:load_cache()\n  -> boolean\n"})}),"\n",(0,c.jsx)(n.p,{children:"Load font cache from persistent file for faster startup time."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"new",children:"new"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:new()\n"})}),"\n",(0,c.jsx)(n.p,{children:"Constructor"}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"rebuild",children:"rebuild"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:rebuild()\n  -> started: boolean\n"})}),"\n",(0,c.jsx)(n.p,{children:"Clear current font cache and rebuild it."}),"\n",(0,c.jsxs)(n.p,{children:["@",(0,c.jsx)(n.em,{children:"return"})," ",(0,c.jsx)(n.code,{children:"started"})," \u2014 False if cache is already been built"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"save_cache",children:"save_cache"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:save_cache()\n"})}),"\n",(0,c.jsx)(n.p,{children:"Store current font cache to persistent file."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"scan_dir",children:"scan_dir"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:scan_dir(path: string, run_count?: integer)\n"})}),"\n",(0,c.jsx)(n.p,{children:"Scan a directory for valid font files and load them into the cache."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"search",children:"search"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:'(method) widget.fonts.cache:search(name: string, style?: "Extra bold italic"|"black"|"bold condensed"|"bold italic"|"bold oblique"...(+9), monospaced?: boolean)\n  -> font_data: (widget.fonts.data)?\n  2. errmsg: string?\n'})}),"\n",(0,c.jsx)(n.p,{children:"Search for a font and return the best match."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:'style:\n   -\\> "regular"\n    | "bold"\n    | "italic"\n    | "bold italic"\n    | "thin"\n    | "medium"\n    | "light"\n    | "black"\n    | "condensed"\n    | "oblique"\n    | "bold oblique"\n    | "extra nold"\n    | "Extra bold italic"\n    | "bold condensed"\n'})}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"verify_monospaced",children:"verify_monospaced"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-lua",children:"(method) widget.fonts.cache:verify_monospaced()\n"})}),"\n",(0,c.jsx)(n.p,{children:"Search and mark monospaced fonts on currently loaded cache and save it."}),"\n",(0,c.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var i=s(96540);const c={},l=i.createContext(c);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);