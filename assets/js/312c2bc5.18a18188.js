/*! For license information please see 312c2bc5.18a18188.js.LICENSE.txt */
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5397],{1264:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var n=i(7294),a=i(512),s=i(293),r=i(3787),l=i.n(r),o=i(637),u=i(5893);class h{constructor(e){this.plugins=[],this.plugins_icon="/img/plugin.svg",this.featured_plugins=["autoinsert","bracketmatch","editorconfig","ephemeral_tabs","lsp","selectionhighlight"],this.page_plugins=document.querySelector(e.page_plugins),this.page_info=document.querySelector(e.page_info),this.query=document.querySelector(e.query),this.submit=document.querySelector(e.submit),this.results=document.querySelector(e.results),this.text=e.text;var t=this;this.query.addEventListener("keypress",(function(e){"Enter"==e.key&&t.search()})),this.submit.addEventListener("click",(function(){t.search()})),fetch("https://raw.githubusercontent.com/pragtical/plugins/master/manifest.json").then((e=>e.json())).then((e=>this.plugins=e)).then((()=>{window.location.search?this.loadPath(window.location.search):this.render()})),l().setOption("openLinksInNewWindow",!0),l().setFlavor("github"),this.md_converter=new(l().Converter),this.shown_plugin=null,window.addEventListener("popstate",(function(){t.loadPath(window.location.search)}))}set featured(e){this.featured_plugins=e}set defaultPluginIcon(e){this.plugins_icon=e}render(){if(!this.query||!this.submit||!this.results)return!1;this.renderFeatured(),this.renderRandom(),this.renderLanguages()}renderPlugin(e){var t=document.createElement("div");t.className="plugin";var i=e.icon||this.plugins_icon,n="pragtical";if(e.remote){var a=document.createElement("a");a.href=e.remote;var s=a.pathname.match("/([^\\/]+)/");s&&s.length>0&&(n=s[1])}var r="v"+e.version;t.innerHTML='<div class="icon"><img src="'+i+'" /></div><div class="title">'+(e.name||e.id)+'</div><div class="info"><div class="author">'+n+'</div><div class="version">'+r+"</div></div>";var l=this;return t.addEventListener("click",(function(){l.showPluginInfo(e)})),t}renderSection(e,t){var i=document.createElement("h2");i.innerText=e,this.results.append(i);var n=document.createElement("div");n.className="container";var a=t();for(var s in a)n.append(this.renderPlugin(a[s]));this.results.append(n)}renderFeatured(){var e=this;this.renderSection(this.text.featured,(function(){var t=[];for(var i in e.featured_plugins){var n=e.getItem(e.featured_plugins[i]);n&&(n.name||e.setPluginName(n),t.push(n))}return t}))}renderRandom(){var e=this;this.renderSection(this.text.fortune,(function(){return e.getRandom(e.plugins.addons,null,/^language_/)}))}renderLanguages(){var e=this;this.renderSection(this.text.languages,(function(){var t=[];for(var i in e.plugins.addons){var n=e.plugins.addons[i];n.id.match(/^language_/)&&((n=Object.assign({},e.plugins.addons[i])).name=n.id.split(/[_\-]/).splice(1),t.push(n))}return e.getRandom(t)}))}getRawURL(e,t,i,n){return"github"==n?"https://raw.githubusercontent.com"+e+"/"+i+"/"+t:"gitlab"==n?"https://gitlab.com"+e+"/-/raw/"+i+"/"+t:""}getURL(e,t,i,n){return"github"==n?"https://github.com"+e+"/blob/"+i+"/"+t:"gitlab"==n?"https://gitlab.com"+e+"/-/blob/"+i+"/"+t:""}getTreeURL(e,t,i){return"github"==i?"https://github.com"+e+"/tree/"+t:"gitlab"==i?"https://gitlab.com"+e+"/-/tree/"+t:""}changePath(e){var t=window.location.pathname,i="?";for(var n in e)i+=n+"="+encodeURI(e[n])+"&";i=i.replace(/&$/,""),window.location.search!=i&&window.history.pushState(null,null,t+i)}loadPath(e){if(this.hidePluginInfo(),e&&""!=e){e=e.substring(1);var t=JSON.parse('{"'+e.replace(/&/g,'","').replace(/\=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)}));t.plugin?this.showPluginInfo(this.getItem(t.plugin)):t.q&&(this.query.value=t.q,this.search())}else this.query.value="",this.search()}fetchReadme(e,t,i,n,a){var s=this;setTimeout((async function(){var r=["master","main"];n&&(r=[n]);var l=["README.md","readme.md"];for(var u in r){var h=!1;for(var c in l){var d=s.getRawURL(e,a+l[c],r[u],i),g=await fetch(d);if(g.ok){var p=await g.text();p=(p=s.md_converter.makeHtml(p)).replace(/<\s*script[^>]*>[\w\s\d\p]*<\s*\/\s*script\s*>/gi,"").replace(/<\s*script[^>]*>/gi,"").replace(/on[\w]+\s*=\s*"[^"]*"/gi,""),t.innerHTML=p;var m=t.querySelectorAll("img");for(var v in m){var f=m[v];f.getAttribute&&!f.getAttribute("src").match(/https?:/)&&(f.src=s.getRawURL(e,a+f.getAttribute("src"),r[u],i))}var b=t.querySelectorAll("a");for(var v in b){var w=b[v];w.getAttribute&&!w.getAttribute("href").match(/https?:/)&&(w.href=s.getURL(e,a+w.getAttribute("href"),r[u],i))}o.Z.highlightAll(),h=!0;break}}if(h)break}}),0)}fetchPluginAsReadme(e,t,i,n,a){var s=this;setTimeout((async function(){var r=["master","main"];for(var l in n&&(r=[n]),r){var u=s.getRawURL(e,a,r[l],i),h=await fetch(u);if(h.ok){var c=await h.text();c=s.md_converter.makeHtml("```lua\n"+c+"\n```"),t.innerHTML=c;var d=document.createElement("div");d.className="download button";var g=document.createElement("a");g.innerHTML='<svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" /></svg>'+s.text.download,g.href=s.getRawURL(e,a,r[l],i),d.append(g);var p=document.querySelector(".plugin-details");p.append(d),p.insertBefore(d,t),o.Z.highlightAll();break}}}),0)}hidePluginInfo(e){e?e.remove():this.shown_plugin&&(this.shown_plugin.remove(),this.shown_plugin=null),document.title="Pragtical - "+this.text.plugins,this.page_plugins.style.display="block"}showPluginInfo(e){var t=e.icon||this.plugins_icon,i="pragtical",n="",a="",s="",r="",l="",o=null;if(e.remote){var u=document.createElement("a");u.href=e.remote,n=u.pathname.replace(/:.+$/,"");var h=u.pathname.match(/:(.+)$/);h&&(o=h[1]),s=(a=u.protocol+"//"+u.host+n).replace(/^https?:\/\//,"");var c=u.pathname.match("/([^/]+)/");c&&c.length>0&&(i=c[1]),(c=u.host.match(/(github|gitlab)\.com/))&&(r=c[1])}else e.path&&(a=this.getURL("/pragtical/plugins",e.path,"master","github"),s="plugins/"+e.path,e.path.match(/\.lua$/)||(r="github",n="/pragtical/plugins",l=e.path+"/"));var d="v"+e.version,g="",p=document.createElement("div");p.className="plugin-details";var m=document.createElement("div");m.className="readme markdown-body",""!=r?(this.fetchReadme(n,m,r,o,l),e.remote&&(g='href="'+this.getTreeURL(n,o,r)+'"')):e.path&&!e.remote&&(o=o||"master",this.fetchPluginAsReadme("/pragtical/plugins",m,"github",o,e.path),g='href="'+this.getURL("/pragtical/plugins",e.path,o,"github")+'"'),p.innerHTML='<div class="details"><div class="icon"><img src="'+t+'" /></div><div class="info"><div class="title">'+(e.name||e.id)+'</div><div class="subinfo"><div class="author">'+i+'</div><div class="version"><a target="_blank" '+g+">"+d+'</a></div><div class="url"><a target="_blank" href="'+a+'">'+s+'</a></div></div><div class="description">'+this.md_converter.makeHtml(e.description)+"</div><div><strong>"+this.text.installation+':</strong></div><div class="install"><div class="command">ppm install '+e.id+"</div></div></div></div>";var v=document.createElement("button");v.className="copy",v.innerText=this.text.copy,v.addEventListener("click",(function(){navigator.clipboard.writeText(document.querySelector(".plugin-details .command").textContent)})),p.querySelector(".plugin-details .install").append(v),p.append(m),this.hidePluginInfo(),this.shown_plugin=p,this.page_plugins.style.display="none",this.page_info.append(p),document.title="Pragtical - "+(e.name||e.id)+" "+this.text.plugin,this.changePath({plugin:e.id})}match(e,t){e=e.toLowerCase();var i=0;for(var n in t){var a=e.match(t[n]);a&&(i+=a.length)}return i}search(){if(""!=this.query.value.trim()){var e=this.query.value.trim();this.changePath({q:e});var t=(e=e.toLowerCase()).split(/\s+/),i=[];for(var n in this.plugins.addons){var a=this.plugins.addons[n];a.search_score=0;var s=!1,r=0;a.name?(r=this.match(a.name,t),a.search_score+=50*r):(r=this.match(a.id,t),a.search_score+=50*r),r>t.length-1&&(s=!0),a.description&&(r=this.match(a.description,t),a.search_score+=10*r,!s&&r>t.length-1&&(s=!0)),s&&(a.name||this.setPluginName(a),i.push(a))}this.results.innerHTML="",this.renderSection(this.text.results+": "+i.length,(function(){return i.sort((function(e,t){return e.search_score==t.search_score?0:e.search_score>t.search_score?-1:1}))}))}else this.results.innerHTML="",this.render()}getRandom(e,t,i){t=t||12;for(var n=e.length,a={},s=0;s<t;s++){var r=Math.floor(Math.random()*n)+1;for(r--;a[r]||!e[r]||i&&e[r].id.match(i);)r=Math.floor(Math.random()*n)+1;a[r]=e[r],a[r].name||this.setPluginName(a[r])}return a}setPluginName(e){e.name||(e.name=e.id.replace(/[_\-]/g," "))}getItem(e){for(var t in this.plugins.addons)if(this.plugins.addons[t].id==e||this.plugins.addons[t].name==e)return this.plugins.addons[t];return null}}function c(){return(0,n.useEffect)((()=>{new h({page_plugins:"#page-plugins",page_info:"#page-plugin-info",query:"#plugins .query",submit:"#plugins .submit",results:"#plugins .results",text:{featured:"Featured",fortune:"Wheel of Fortune",languages:"Languages",installation:"Installation",copy:"COPY",plugin:"plugin",plugins:"plugins",results:"Results Found",download:"Download"}})}),[]),(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("page",{id:"page-plugins",children:(0,u.jsxs)("div",{id:"plugins",children:[(0,u.jsxs)("div",{className:"search",children:[(0,u.jsx)("input",{className:"query",type:"text",placeholder:"Search Pragtical Plugins",autofocus:!0}),(0,u.jsx)("button",{className:"submit",children:"Search"})]}),(0,u.jsx)("div",{className:"results"})]})}),(0,u.jsx)("page",{id:"page-plugin-info"})]})}var d=i(1207);function g(){return(0,u.jsx)("header",{className:(0,a.Z)("hero hero--primary-dark",d.Z.heroBanner),children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("h1",{className:"hero__title",children:"Plugins for Pragtical"})})})}function p(){return(0,u.jsxs)(s.Z,{title:"Plugins",description:"Plugins for Pragtical code editor.",children:[(0,u.jsx)(g,{}),(0,u.jsx)("main",{children:(0,u.jsx)(c,{})})]})}},1207:(e,t,i)=>{i.d(t,{Z:()=>n});const n={heroBanner:"heroBanner_qdFl",buttons:"buttons_AeoN"}}}]);