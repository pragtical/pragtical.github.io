<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Pragtical v3.5.0 Release | Pragtical</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pragtical.dev/img/pragtical-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://pragtical.dev/img/pragtical-social-card.jpg"><meta data-rh="true" property="og:url" content="https://pragtical.dev/blog/pragtical-v350-release"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Pragtical v3.5.0 Release | Pragtical"><meta data-rh="true" name="description" content="A new week and a new release with fixes and performance improvements!"><meta data-rh="true" property="og:description" content="A new week and a new release with fixes and performance improvements!"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-09-15T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/jgmdev"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pragtical.dev/blog/pragtical-v350-release"><link data-rh="true" rel="alternate" href="https://pragtical.dev/blog/pragtical-v350-release" hreflang="en"><link data-rh="true" rel="alternate" href="https://pragtical.dev/blog/pragtical-v350-release" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Pragtical RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Pragtical Atom Feed"><link rel="stylesheet" href="/assets/css/styles.6c60b8ba.css">
<script src="/assets/js/runtime~main.fce1e270.js" defer="defer"></script>
<script src="/assets/js/main.f884ebae.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Pragtical Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Pragtical Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Pragtical</b></a><a class="navbar__item navbar__link" href="/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/plugins">Plugins</a><a class="navbar__item navbar__link" href="/download">Get</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/category/about-pragtical">About</a><a href="https://github.com/pragtical" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/pragtical-v350-release">Pragtical v3.5.0 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pragtical-v344-release">Pragtical v3.4.4 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pragtical-v343-release">Pragtical v3.4.3 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pragtical-v342-release">Pragtical v3.4.2 Release</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/pragtical-v341-release">Pragtical v3.4.1 Release</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="A new week and a new release with fixes and performance improvements!"><header><h1 class="title_f1Hy" itemprop="headline">Pragtical v3.5.0 Release</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-09-15T00:00:00.000Z" itemprop="datePublished">September 15, 2024</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/jgmdev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/jgmdev.png" alt="Jefferson Gonzalez" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/jgmdev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jefferson Gonzalez</span></a></div><small class="avatar__subtitle" itemprop="description">Contributor of Pragtical</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>A new week and a new release with fixes and performance improvements!</p>
<p>Over the past few days, various people have helped by reporting issues on the GitHub
<a href="https://github.com/pragtical/pragtical/issues" target="_blank" rel="noopener noreferrer">issue tracker</a>, and this release
tackles some of them. One prominent change is the improvement in the way that
coroutines are scheduled, resulting in overall better responsiveness and
performance of the editor, an improvement that would not have been possible
without the testing of <a href="https://github.com/AmerM137" target="_blank" rel="noopener noreferrer">AmerM137</a>.</p>
<p>Also, while working on a not-yet-finished C++ native tokenizer (to see if we gain
some better performance), I found that the <code>utf8.len</code> function accepts a
<code>lax</code> parameter that allows calculating the length of the string without
checking if it is invalid UTF-8 (we don&#x27;t need this check since we are passing
clean UTF-8 text to the tokenizer). Using this flag on the Lua tokenizer calls of
<code>ulen</code> gives us over a 75% time reduction in the per-line tokenization process.</p>
<p>Another area that has seen improvements is in the startup and memory usage
departments. We changed how the settings plugin deals with the global status
of the scrollbar to not depend on a coroutine. In the memory department, we
modified various core plugins that make use of weak document table keys to
clear the content of these tables immediately after a document is closed. This
change should result in the garbage collector kicking in sooner for cleanup
of unused memory.</p>
<p>This release also introduces AppImage and Portable <code>ARM64 Linux builds</code> of the
editor for people working on those platforms, as suggested by
<a href="https://github.com/jvoisin" target="_blank" rel="noopener noreferrer">jvoisin</a>.</p>
<p>For plugin developers, we introduced two new functions to deal with ignore
files: <code>core.get_ignore_file_rules()</code> and <code>common.match_ignore_rule(path, info, ignore_rules)</code>.
Also, the editor version was aligned with the mod version, meaning that they
are now the same.</p>
<p>Some other changes include:</p>
<ul>
<li>Proper updates to the NoteBook widget on tab change.</li>
<li>Better DPI runtime awareness on Windows (special thanks to
<a href="https://github.com/LeDominik" target="_blank" rel="noopener noreferrer">LeDominik</a>, who performed macOS scale testing
on previous releases, resulting in today&#x27;s improvements).</li>
<li>Fixes to the regex C API that allow it to work properly on macOS ARM64
(reported by <a href="https://github.com/dilpreetsio" target="_blank" rel="noopener noreferrer">dilpreetsio</a>).</li>
<li>Better borderless behavior when clicking window action buttons.</li>
<li>Fixes to window size restoration on startup.</li>
<li>Improvements to the findfile and projectsearch plugins in handling
ignore files.</li>
</ul>
<p>A big THANK YOU to everyone who reports issues!</p>
<p>Downloads on <a href="https://github.com/pragtical/pragtical/releases/tag/v3.5.0" target="_blank" rel="noopener noreferrer">GitHub</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-log">Changes Log<a href="#changes-log" class="hash-link" aria-label="Direct link to Changes Log" title="Direct link to Changes Log">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-improvements">Performance Improvements<a href="#performance-improvements" class="hash-link" aria-label="Direct link to Performance Improvements" title="Direct link to Performance Improvements">​</a></h3>
<ul>
<li>
<p>Lower input latency improving co-routine scheduling and tokenizer
(<a href="https://github.com/pragtical/pragtical/pull/174" target="_blank" rel="noopener noreferrer">#174</a>)</p>
</li>
<li>
<p>Reduce the amount of co-routines needed on startup
(<a href="https://github.com/pragtical/pragtical/pull/176" target="_blank" rel="noopener noreferrer">#176</a>)</p>
</li>
<li>
<p>Document lax param and use on tokenizer ulen calls
(<a href="https://github.com/pragtical/pragtical/pull/183" target="_blank" rel="noopener noreferrer">#183</a>)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhancements">Enhancements<a href="#enhancements" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">​</a></h3>
<ul>
<li>
<p>Added PerMonitor dpi awareness to windows manifest
(<a href="https://github.com/pragtical/pragtical/pull/158" target="_blank" rel="noopener noreferrer">#158</a>)</p>
</li>
<li>
<p>Don&#x27;t trust weak table keys to clean cached items
(<a href="https://github.com/pragtical/pragtical/pull/164" target="_blank" rel="noopener noreferrer">#164</a>)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a href="#api" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h3>
<ul>
<li>
<p>Introduce new ignore files handling functions
(<a href="https://github.com/pragtical/pragtical/pull/177" target="_blank" rel="noopener noreferrer">#177</a>)</p>
</li>
<li>
<p>Use project version as mods version
(<a href="https://github.com/pragtical/pragtical/pull/184" target="_blank" rel="noopener noreferrer">#184</a>)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes">Fixes<a href="#fixes" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3>
<ul>
<li>
<p>Fix issues with window size restoration (spotted on Windows)
(<a href="https://github.com/pragtical/pragtical/pull/162" target="_blank" rel="noopener noreferrer">#162</a>)</p>
</li>
<li>
<p>IPC Plugin: restore current project working dir
(<a href="https://github.com/pragtical/pragtical/pull/167" target="_blank" rel="noopener noreferrer">#167</a>)</p>
</li>
<li>
<p>If all documents are closed chdir to root project
(<a href="https://github.com/pragtical/pragtical/pull/168" target="_blank" rel="noopener noreferrer">#168</a>)</p>
</li>
<li>
<p>findfile: use project when resolving file path
(<a href="https://github.com/pragtical/pragtical/pull/169" target="_blank" rel="noopener noreferrer">#169</a>)</p>
</li>
<li>
<p>Fix regex api wrong value set to regex.ENDANCHORED
(<a href="https://github.com/pragtical/pragtical/pull/170" target="_blank" rel="noopener noreferrer">#170</a>)</p>
</li>
<li>
<p>regex api: use proper type for options parameter
(<a href="https://github.com/pragtical/pragtical/pull/171" target="_blank" rel="noopener noreferrer">#171</a>)</p>
</li>
<li>
<p>Do not maximize window on macOS at startup
(<a href="https://github.com/pragtical/pragtical/pull/175" target="_blank" rel="noopener noreferrer">#175</a>)</p>
</li>
<li>
<p>Process TitleView button actions on mouse release
(<a href="https://github.com/pragtical/pragtical/pull/178" target="_blank" rel="noopener noreferrer">#178</a>)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-system">Build System<a href="#build-system" class="hash-link" aria-label="Direct link to Build System" title="Direct link to Build System">​</a></h3>
<ul>
<li>
<p>Add Linux AArch64 build target to CI
(<a href="https://github.com/pragtical/pragtical/pull/157" target="_blank" rel="noopener noreferrer">#157</a>)</p>
</li>
<li>
<p>CI: Properly enable ccache for linux builds
(<a href="https://github.com/pragtical/pragtical/pull/161" target="_blank" rel="noopener noreferrer">#161</a>)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="widgets">Widgets<a href="#widgets" class="hash-link" aria-label="Direct link to Widgets" title="Direct link to Widgets">​</a></h3>
<ul>
<li>Allow scheduling core updates and redraws
(<a href="https://github.com/pragtical/widget/commit/a2637c377da8a92eb4bd966d12ab6a45e71c4e43" target="_blank" rel="noopener noreferrer">a2637c37</a>)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lite-xl-inherited-changes">Lite XL Inherited Changes<a href="#lite-xl-inherited-changes" class="hash-link" aria-label="Direct link to Lite XL Inherited Changes" title="Direct link to Lite XL Inherited Changes">​</a></h3>
<ul>
<li>
<p>DocView: check token_count not 0
(<a href="https://github.com/lite-xl/lite-xl/pull/1879" target="_blank" rel="noopener noreferrer">#1879</a>)</p>
</li>
<li>
<p>Added in keyboard shortcut tooltips.
(<a href="https://github.com/lite-xl/lite-xl/pull/1880" target="_blank" rel="noopener noreferrer">#1880</a>)</p>
</li>
<li>
<p>Add primary selection support
(<a href="https://github.com/lite-xl/lite-xl/pull/1729" target="_blank" rel="noopener noreferrer">#1729</a>)</p>
</li>
</ul></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col margin-top--sm"><a href="https://github.com/pragtical/pragtical.github.io/edit/main/blog/2024-09-15-v350-release.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/pragtical-v344-release"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Pragtical v3.4.4 Release</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#changes-log" class="table-of-contents__link toc-highlight">Changes Log</a><ul><li><a href="#performance-improvements" class="table-of-contents__link toc-highlight">Performance Improvements</a></li><li><a href="#enhancements" class="table-of-contents__link toc-highlight">Enhancements</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a></li><li><a href="#fixes" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#build-system" class="table-of-contents__link toc-highlight">Build System</a></li><li><a href="#widgets" class="table-of-contents__link toc-highlight">Widgets</a></li><li><a href="#lite-xl-inherited-changes" class="table-of-contents__link toc-highlight">Lite XL Inherited Changes</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/set-up">Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/user-guide">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/developer-guide">Developer Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Customization</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pragtical/colors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Themes<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/plugins">Plugins</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/about/contributors">Contributors</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/faq">Faq</a></li><li class="footer__item"><a href="https://github.com/pragtical" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Pragtical. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>